<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Euro Keys | Professional Automotive Locksmith</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#fefce8',
                            100: '#fef9c3',
                            200: '#fef08a',
                            300: '#fde047',
                            400: '#facc15',
                            500: '#eab308',
                            600: '#ca8a04',
                            700: '#a16207',
                            800: '#854d0e',
                            900: '#713f12',
                            950: '#422006',
                        },
                        navy: {
                            800: '#1e3a5f',
                            900: '#0f2744',
                            950: '#0a1929'
                        }
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, #0a1929 0%, #1e3a5f 50%, #0f2744 100%);
            min-height: 100vh;
        }

        .glass-panel {
            background: rgba(15, 39, 68, 0.7);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(250, 204, 21, 0.15);
        }

        .gold-accent {
            background: linear-gradient(135deg, #facc15 0%, #eab308 50%, #ca8a04 100%);
        }

        .gold-text {
            background: linear-gradient(135deg, #fde047 0%, #facc15 50%, #eab308 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-pattern {
            background-image: 
                radial-gradient(ellipse at 20% 30%, rgba(250, 204, 21, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(30, 58, 95, 0.4) 0%, transparent 50%);
        }

        .key-icon-glow {
            filter: drop-shadow(0 0 20px rgba(250, 204, 21, 0.4));
        }

        .data-card:hover {
            border-color: rgba(250, 204, 21, 0.4);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }

        .phone-banner {
            background: linear-gradient(90deg, #facc15 0%, #eab308 100%);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a1929;
        }
        ::-webkit-scrollbar-thumb {
            background: #1e3a5f;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #facc15;
        }
    </style>
</head>

<body class="text-slate-200 min-h-screen flex flex-col">

    <!-- Phone Banner - Euro Keys inspired -->
    <div class="phone-banner text-navy-950 py-2 text-center text-sm font-semibold tracking-wide">
        <a href="tel:8045060709" class="hover:underline flex items-center justify-center gap-2">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
            </svg>
            Call (804) 506-0709
        </a>
    </div>

    <!-- Navbar -->
    <nav class="border-b border-brand-500/20 bg-navy-900/80 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 gold-accent rounded-xl flex items-center justify-center shadow-lg shadow-brand-500/30 key-icon-glow">
                    <svg class="w-6 h-6 text-navy-950" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11.536 19.364a1.5 1.5 0 01-2.227 0l-.498-.498a1.5 1.5 0 010-2.121l.612-1.729 2.802-2.802A5.5 5.5 0 0121 9z">
                        </path>
                    </svg>
                </div>
                <span class="text-2xl font-bold tracking-widest text-white">EURO KEYS</span>
            </div>
            <div class="flex items-center gap-4">
                <a href="dashboard.html" class="text-sm text-slate-400 hover:text-brand-400 transition-colors font-medium">Dashboard</a>
                <button class="p-2 text-slate-400 hover:text-brand-400 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </button>
                <div class="w-9 h-9 rounded-full gold-accent flex items-center justify-center text-xs font-bold text-navy-950">
                    JS</div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 max-w-6xl hero-pattern">

        <!-- Tabs -->
        <div class="flex justify-center mb-8">
            <div class="bg-navy-900/80 p-1.5 rounded-2xl flex gap-1 border border-brand-500/20 shadow-xl flex-wrap justify-center">
                <button onclick="switchTab('vin')" id="tab-vin"
                    class="tab-btn px-6 py-3 rounded-xl text-sm font-semibold transition-all gold-accent text-navy-950 shadow-lg">VIN
                    Decoder</button>
                <button onclick="switchTab('browse')" id="tab-browse"
                    class="tab-btn px-6 py-3 rounded-xl text-sm font-semibold text-slate-400 hover:text-brand-400 transition-all">Browse
                    Database</button>
                <button onclick="switchTab('tools')" id="tab-tools"
                    class="tab-btn px-6 py-3 rounded-xl text-sm font-semibold text-slate-400 hover:text-brand-400 transition-all">üîß Tools
                    Lookup</button>
            </div>
        </div>

        <!-- Mobile-Friendly Quick Products Section -->
        <div id="quickProductsSection" class="mb-8">
            <div class="glass-panel rounded-2xl p-4 md:p-6 border-2 border-brand-400/50 bg-gradient-to-br from-brand-900/30 to-navy-900/50">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-2">
                        <span class="text-brand-400 text-xl">üîë</span>
                        <h3 class="text-lg md:text-xl font-bold text-white">Quick Buy Keys</h3>
                    </div>
                    <span class="px-2 py-1 bg-green-500/20 text-green-400 text-xs font-semibold rounded-full">AFFILIATE</span>
                </div>
                
                <!-- Compact Product Cards for Mobile -->
                <div id="affiliateProductsContainer" class="space-y-3">
                    <!-- Products populated by JavaScript -->
                </div>
                
                <!-- Expand Button -->
                <button id="expandProductsBtn" onclick="toggleExpandProducts()" class="hidden w-full mt-4 py-3 text-brand-400 hover:text-brand-300 font-semibold text-sm flex items-center justify-center gap-2 border border-brand-500/30 rounded-xl hover:bg-brand-500/10 transition-all">
                    <span id="expandBtnText">Show More Keys</span>
                    <svg id="expandBtnIcon" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- VIN Section -->
        <div id="vin-section" class="mb-12 animate-fade-in">
            <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-4 tracking-tight text-center">
                Vehicle Intelligence <span class="gold-text">Decoded</span>
            </h1>
            <p class="text-slate-400 text-lg max-w-2xl mx-auto mb-10 text-center">
                Instant access to key cut codes, transponder data, and complete vehicle specifications.
            </p>

            <div class="glass-panel rounded-3xl p-3 max-w-3xl mx-auto shadow-2xl">
                <div class="flex flex-col md:flex-row gap-3">
                    <div class="relative flex-grow group">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <svg class="h-6 w-6 text-brand-500 key-icon-glow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z">
                                </path>
                            </svg>
                        </div>
                        <input type="text" id="vinInput" placeholder="Enter VIN (17 Characters)"
                            class="block w-full pl-12 pr-4 py-5 bg-navy-950/80 border-2 border-brand-500/30 rounded-2xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-brand-400 focus:border-brand-400 transition-all font-mono uppercase tracking-widest text-lg"
                            maxlength="17">
                    </div>
                    <button onclick="decodeVIN()"
                        class="gold-accent hover:opacity-90 text-navy-950 font-bold py-5 px-10 rounded-2xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-brand-500/30 flex items-center justify-center gap-2 text-lg">
                        <span>Decode VIN</span>
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                                d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </button>
                </div>
                <div class="mt-4 flex justify-center gap-6 text-sm text-slate-500">
                    <span class="cursor-pointer hover:text-brand-400 transition-colors"
                        onclick="fillSampleVin('Honda')">Sample: Honda Civic</span>
                    <span class="w-px h-5 bg-brand-500/30"></span>
                    <span class="cursor-pointer hover:text-brand-400 transition-colors"
                        onclick="fillSampleVin('Ford')">Sample: Ford F-150</span>
                    <span class="w-px h-5 bg-brand-500/30"></span>
                    <span class="cursor-pointer hover:text-brand-400 transition-colors"
                        onclick="fillSampleVin('BMW')">Sample: BMW 3-Series</span>
                </div>
            </div>
        </div>
        
        <!-- Browse Section -->
        <div id="browse-section" class="hidden mb-12 animate-fade-in">
            <h1 class="text-3xl md:text-5xl font-extrabold text-white mb-4 text-center">
                Browse <span class="gold-text">Database</span>
            </h1>
            <p class="text-slate-400 text-center mb-8">Select vehicle details to view locksmith specifications.</p>

            <div class="glass-panel rounded-3xl p-8 max-w-4xl mx-auto shadow-2xl">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Year -->
                    <div>
                        <label class="block text-xs font-semibold text-brand-400 mb-2 uppercase tracking-wider">Year</label>
                        <select id="yearSelect"
                            class="w-full bg-navy-950/80 border-2 border-brand-500/30 rounded-xl px-4 py-4 text-white focus:outline-none focus:ring-2 focus:ring-brand-400 transition-all appearance-none cursor-pointer font-medium">
                            <option value="">Select Year</option>
                        </select>
                    </div>

                    <!-- Make -->
                    <div>
                        <label class="block text-xs font-semibold text-brand-400 mb-2 uppercase tracking-wider">Make</label>
                        <select id="makeSelect" disabled
                            class="w-full bg-navy-950/80 border-2 border-brand-500/30 rounded-xl px-4 py-4 text-white focus:outline-none focus:ring-2 focus:ring-brand-400 transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed font-medium"
                            onchange="loadModels()">
                            <option value="">Select Make</option>
                        </select>
                    </div>

                    <!-- Model -->
                    <div>
                        <label class="block text-xs font-semibold text-brand-400 mb-2 uppercase tracking-wider">Model</label>
                        <select id="modelSelect" disabled
                            class="w-full bg-navy-950/80 border-2 border-brand-500/30 rounded-xl px-4 py-4 text-white focus:outline-none focus:ring-2 focus:ring-brand-400 transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed font-medium">
                            <option value="">Select Model</option>
                        </select>
                    </div>
                </div>
                <div class="mt-8 flex justify-end">
                    <button onclick="searchDatabase()"
                        class="gold-accent hover:opacity-90 text-navy-950 font-bold py-4 px-10 rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-brand-500/30 flex items-center gap-2">
                        <span>Search Database</span>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Tools Section -->
        <div id="tools-section" class="hidden mb-12 animate-fade-in">
            <h1 class="text-3xl md:text-5xl font-extrabold text-white mb-4 text-center">
                üîß <span class="gold-text">Tools</span> Database
            </h1>
            <p class="text-slate-400 text-center mb-8">Search Lishi picks, decoders, and programming tools by vehicle compatibility.</p>

            <div class="glass-panel rounded-3xl p-6 max-w-5xl mx-auto shadow-2xl">
                <!-- Search Box -->
                <div class="mb-6">
                    <div class="relative">
                        <input type="text" id="toolSearch" placeholder="Search tools (e.g., Lishi HO01, Honda, Ford...)" 
                            oninput="filterTools()"
                            class="w-full pl-12 pr-4 py-4 bg-navy-950/80 border-2 border-brand-500/30 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-brand-400 focus:border-brand-400 transition-all text-lg">
                        <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                </div>

                <!-- Filter Buttons -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button onclick="filterToolsByType('all')" class="tool-filter-btn active px-4 py-2 rounded-lg text-sm font-semibold bg-brand-500 text-navy-950">All Tools</button>
                    <button onclick="filterToolsByType('lishi')" class="tool-filter-btn px-4 py-2 rounded-lg text-sm font-semibold bg-navy-800 text-slate-300 hover:bg-navy-700">Lishi Picks</button>
                    <button onclick="filterToolsByType('decoder')" class="tool-filter-btn px-4 py-2 rounded-lg text-sm font-semibold bg-navy-800 text-slate-300 hover:bg-navy-700">Decoders</button>
                    <button onclick="filterToolsByType('programmer')" class="tool-filter-btn px-4 py-2 rounded-lg text-sm font-semibold bg-navy-800 text-slate-300 hover:bg-navy-700">Programmers</button>
                    <button onclick="filterToolsByType('reader')" class="tool-filter-btn px-4 py-2 rounded-lg text-sm font-semibold bg-navy-800 text-slate-300 hover:bg-navy-700">Code Readers</button>
                </div>

                <!-- Results Count -->
                <div class="mb-4 text-sm text-slate-400">
                    Showing <span id="toolsCount" class="text-brand-400 font-bold">0</span> tools
                </div>

                <!-- Tools Grid -->
                <div id="toolsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[600px] overflow-y-auto pr-2">
                    <!-- Tools populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="hidden py-12 text-center">
            <div class="inline-block animate-spin rounded-full h-14 w-14 border-t-3 border-b-3 border-brand-400 mb-4"></div>
            <p class="text-brand-400 animate-pulse font-medium text-lg">Accessing Database...</p>
        </div>

        <!-- Results Section -->
        <div id="resultsArea" class="hidden space-y-6 animate-fade-in">

            <!-- Vehicle Header Card -->
            <div class="glass-panel rounded-3xl p-8 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-6 opacity-10">
                    <svg class="w-72 h-72 text-brand-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"></path>
                    </svg>
                </div>
                <div class="relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                    <div>
                        <div class="text-brand-400 font-bold tracking-widest text-xs uppercase mb-2 flex items-center gap-2">
                            <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                            Vehicle Identified
                        </div>
                        <h2 class="text-3xl md:text-5xl font-extrabold text-white" id="vehicleTitle">2021 Honda Civic</h2>
                        <p class="text-slate-400 mt-2 flex items-center gap-3 flex-wrap">
                            <span id="vehicleTrim" class="bg-brand-500/20 text-brand-300 px-3 py-1 rounded-lg text-sm font-medium">LX Sedan 4D</span>
                            <span class="text-brand-500/50">‚Ä¢</span>
                            <span id="vehicleVin" class="font-mono text-slate-500 text-sm">1HGBH41JXMN...</span>
                        </p>
                    </div>
                    <div class="flex gap-3">
                        <button class="px-5 py-3 bg-navy-800 hover:bg-navy-700 rounded-xl text-sm font-semibold text-slate-300 transition-colors border border-brand-500/30">
                            Save to History
                        </button>
                    </div>
                </div>
            </div>

            <!-- Inline Buy Keys Section for This Vehicle -->
            <div id="inlineProductsSection" class="glass-panel rounded-2xl p-4 md:p-6 border-2 border-green-500/30 bg-gradient-to-r from-green-900/20 to-brand-900/20">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-green-500/20 rounded-xl flex items-center justify-center">
                            <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-white font-bold text-lg">üîë Buy Keys for This Vehicle</h3>
                            <p class="text-slate-400 text-xs">Verified FCC IDs ‚Ä¢ Amazon Prime Eligible</p>
                        </div>
                    </div>
                    <span class="px-2 py-1 bg-green-500/20 text-green-400 text-xs font-semibold rounded-full hidden md:block">AFFILIATE</span>
                </div>
                
                <div id="inlineAffiliateProducts" class="space-y-2">
                    <!-- Products populated by JavaScript -->
                </div>
                
                <button id="inlineExpandBtn" onclick="toggleInlineProducts()" class="hidden w-full mt-3 py-2 text-green-400 hover:text-green-300 font-semibold text-sm flex items-center justify-center gap-2 border border-green-500/30 rounded-lg hover:bg-green-500/10 transition-all">
                    <span id="inlineExpandText">View All Keys</span>
                    <svg id="inlineExpandIcon" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

                <!-- Key Information -->
                <div class="lg:col-span-2 space-y-6">
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 gold-accent rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-navy-950" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                                    d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11.536 19.364a1.5 1.5 0 01-2.227 0l-.498-.498a1.5 1.5 0 010-2.121l.612-1.729 2.802-2.802A5.5 5.5 0 0121 9z">
                                </path>
                            </svg>
                            </div>
                            Key & Transponder Data
                        </h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="data-card bg-navy-950/60 p-5 rounded-2xl border border-brand-500/20 transition-all hover:border-brand-400 cursor-pointer" onclick="reverseSearchBlank(document.getElementById('keyBlank').textContent)" title="Click to find all vehicles using this key blank">
                                <div class="text-xs text-brand-400 uppercase tracking-wider mb-1 font-semibold">Key Blank <span class="text-blue-400 text-[10px]">üîç Click to search</span></div>
                                <div class="text-2xl font-mono font-bold text-white hover:text-brand-400 transition-colors" id="keyBlank">HO03</div>
                                <div class="text-xs text-slate-400 mt-2" id="keyBlankDesc">High Security Laser Cut</div>
                            </div>
                            <div class="data-card bg-navy-950/60 p-5 rounded-2xl border border-brand-500/20 transition-all hover:border-brand-400 cursor-pointer" onclick="reverseSearchChip(document.getElementById('chipType').textContent)" title="Click to find all vehicles using this chip">
                                <div class="text-xs text-brand-400 uppercase tracking-wider mb-1 font-semibold">Transponder Chip <span class="text-blue-400 text-[10px]">üîç Click to search</span></div>
                                <div class="text-2xl font-mono font-bold text-white hover:text-brand-400 transition-colors" id="chipType">Philips 46</div>
                                <div class="text-xs text-slate-400 mt-2" id="chipDesc">Crypto Encrypted</div>
                            </div>
                            <div class="data-card bg-navy-950/60 p-5 rounded-2xl border border-brand-500/20 transition-all hover:border-brand-400 cursor-pointer" onclick="reverseSearch('codeseries', document.getElementById('keyCutCode').textContent)" title="Click to find all vehicles with this code series">
                                <div class="text-xs text-brand-400 uppercase tracking-wider mb-1 font-semibold">Key Cut Code <span class="text-blue-400 text-[10px]">üîç Click to search</span></div>
                                <div class="text-2xl font-mono font-bold gold-text hover:text-brand-300 transition-colors" id="keyCutCode">K001-N718</div>
                                <div class="text-xs text-slate-400 mt-2" id="keyCutDesc">InstaCode Card #1234</div>
                            </div>
                            <div class="data-card bg-navy-950/60 p-5 rounded-2xl border border-brand-500/20 transition-all hover:border-brand-400 cursor-pointer" onclick="reverseSearch('freq', document.getElementById('remoteFreq').textContent)" title="Click to find all vehicles with this frequency">
                                <div class="text-xs text-brand-400 uppercase tracking-wider mb-1 font-semibold">Remote Frequency <span class="text-blue-400 text-[10px]">üîç Click to search</span></div>
                                <div class="text-2xl font-mono font-bold text-white hover:text-brand-400 transition-colors" id="remoteFreq">315 MHz</div>
                                <button id="fccId" onclick="event.stopPropagation(); reverseSearchFcc(this)" class="text-xs text-blue-400 mt-2 hover:text-blue-300 hover:underline cursor-pointer transition-colors" title="Click to find all vehicles with this FCC ID">FCC ID: KR55WK49303</button>
                            </div>
                        </div>

                        <!-- Additional Key Data -->
                        <div class="mt-6 pt-6 border-t border-brand-500/20">
                            <h4 class="text-sm font-bold text-brand-400 uppercase tracking-wider mb-4">Additional Key Information <span class="text-blue-400 text-[10px] font-normal">üîç Click items to reverse search</span></h4>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="text-center p-3 bg-navy-950/40 rounded-xl hover:bg-navy-900/60 cursor-pointer border border-transparent hover:border-brand-500/30 transition-all" onclick="reverseSearch('keytype', document.getElementById('keyType').textContent)" title="Find all vehicles with this key type">
                                    <div class="text-xs text-slate-500 mb-1">Key Type</div>
                                    <div class="text-sm font-semibold text-white hover:text-brand-400" id="keyType">Proximity</div>
                                </div>
                                <div class="text-center p-3 bg-navy-950/40 rounded-xl hover:bg-navy-900/60 cursor-pointer border border-transparent hover:border-brand-500/30 transition-all" onclick="reverseSearchBlank(document.getElementById('emergencyKey').textContent)" title="Find all vehicles with this emergency key">
                                    <div class="text-xs text-slate-500 mb-1">Emergency Key</div>
                                    <div class="text-sm font-semibold text-white hover:text-brand-400" id="emergencyKey">HO01</div>
                                </div>
                                <div class="text-center p-3 bg-navy-950/40 rounded-xl hover:bg-navy-900/60 cursor-pointer border border-transparent hover:border-brand-500/30 transition-all" onclick="reverseSearch('cloning', document.getElementById('cloningStatus').textContent)" title="Find all vehicles with this cloning status">
                                    <div class="text-xs text-slate-500 mb-1">Cloning</div>
                                    <div class="text-sm font-semibold text-white hover:text-brand-400" id="cloningStatus">Not Possible</div>
                                </div>
                                <div class="text-center p-3 bg-navy-950/40 rounded-xl hover:bg-navy-900/60 cursor-pointer border border-transparent hover:border-brand-500/30 transition-all" onclick="reverseSearch('obd', document.getElementById('obdStatus').textContent)" title="Find all vehicles with this OBD status">
                                    <div class="text-xs text-slate-500 mb-1">OBD Program</div>
                                    <div class="text-sm font-semibold text-white hover:text-brand-400" id="obdStatus">Yes</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Key Blanks Table (Like App Screenshot) -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                                </svg>
                            </div>
                            Key Blanks
                        </h3>
                        <div id="keyBlanksContainer" class="space-y-3">
                            <!-- Populated by JavaScript -->
                        </div>
                        
                        <!-- Code Series & Test Key -->
                        <div class="mt-6 pt-6 border-t border-brand-500/20 grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="cursor-pointer" onclick="reverseSearch('codeseries', document.getElementById('codeSeriesValue').textContent)" title="Find all vehicles with this code series">
                                <div class="text-xs text-brand-400 uppercase tracking-wider mb-2 font-semibold">Code Series <span class="text-blue-400 text-[10px]">üîç</span></div>
                                <div class="bg-navy-950/60 p-4 rounded-xl border border-brand-500/20 hover:border-brand-400 transition-colors">
                                    <span class="text-xl font-mono font-bold gold-text hover:text-brand-300" id="codeSeriesValue">M001-2618</span>
                                </div>
                            </div>
                            <div class="cursor-pointer" onclick="reverseSearchBlank(document.getElementById('testKeyValue').textContent.split('/')[0].trim())" title="Find all vehicles using this test key">
                                <div class="text-xs text-brand-400 uppercase tracking-wider mb-2 font-semibold">Test Key <span class="text-blue-400 text-[10px]">üîç</span></div>
                                <div class="bg-navy-950/60 p-4 rounded-xl border border-brand-500/20 hover:border-brand-400 transition-colors">
                                    <span class="text-xl font-mono font-bold text-white hover:text-brand-400" id="testKeyValue">Y157 / Y159</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Decoder Tools -->
                        <div class="mt-4">
                            <div class="text-xs text-brand-400 uppercase tracking-wider mb-2 font-semibold">Decoder/Reader Tools</div>
                            <div id="decoderToolsContainer" class="flex flex-wrap gap-2">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Programming Guides & Links -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                </svg>
                            </div>
                            Programming Guides & Walkthroughs
                        </h3>
                        <div id="programmingGuidesContainer" class="space-y-3">
                            <!-- Populated by JavaScript -->
                        </div>
                        
                        <!-- Programming Notes -->
                        <div class="mt-6 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl">
                            <div class="flex items-start gap-3">
                                <svg class="w-5 h-5 text-amber-400 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <div>
                                    <div class="text-amber-400 font-semibold text-sm mb-1">Programming Notes</div>
                                    <div class="text-amber-200/80 text-sm" id="programmingNotesText">Check vehicle year for specific procedure requirements.</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- All Keys Lost Procedure -->
                        <div class="mt-4 p-4 bg-red-500/10 border border-red-500/30 rounded-xl">
                            <div class="flex items-start gap-3">
                                <svg class="w-5 h-5 text-red-400 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <div>
                                    <div class="text-red-400 font-semibold text-sm mb-1">All Keys Lost (AKL) Procedure</div>
                                    <div class="text-red-200/80 text-sm" id="allKeysLostText">Refer to tool-specific guide for AKL programming.</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Cross-Reference Table (NEW) -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-cyan-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                                </svg>
                            </div>
                            Cross-Reference (Ilco / Strattec / JMA / KEYDIY)
                        </h3>
                        <div id="crossRefContainer" class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Transponder Technical Data (NEW) -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-rose-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-rose-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path>
                                </svg>
                            </div>
                            Transponder Technical Data
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-rose-500/20">
                                <div class="text-xs text-rose-400 uppercase mb-1 font-semibold">Chip ID</div>
                                <div class="text-lg font-mono font-semibold text-white" id="transponderChipId">ID46</div>
                            </div>
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-rose-500/20">
                                <div class="text-xs text-rose-400 uppercase mb-1 font-semibold">Technology</div>
                                <div class="text-lg font-semibold text-white" id="transponderTech">Philips Crypto 2</div>
                            </div>
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-rose-500/20">
                                <div class="text-xs text-rose-400 uppercase mb-1 font-semibold">Bit Architecture</div>
                                <div class="text-lg font-mono font-semibold text-white" id="transponderBits">46-bit</div>
                            </div>
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-rose-500/20">
                                <div class="text-xs text-rose-400 uppercase mb-1 font-semibold">Clonable</div>
                                <div class="text-lg font-semibold" id="transponderClonable">
                                    <span class="text-green-400">Yes (TPX3/CN3)</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bitting & Cut Specifications (NEW) -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-amber-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>
                                </svg>
                            </div>
                            Bitting & Cut Specifications
                        </h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">
                            <div class="text-center p-4 bg-navy-950/60 rounded-xl border border-amber-500/20">
                                <div class="text-xs text-amber-400 uppercase mb-1 font-semibold">Cut Depths</div>
                                <div class="text-2xl font-mono font-bold text-white" id="bittingDepths">4</div>
                            </div>
                            <div class="text-center p-4 bg-navy-950/60 rounded-xl border border-amber-500/20">
                                <div class="text-xs text-amber-400 uppercase mb-1 font-semibold">Positions</div>
                                <div class="text-2xl font-mono font-bold text-white" id="bittingPositions">8</div>
                            </div>
                            <div class="text-center p-4 bg-navy-950/60 rounded-xl border border-amber-500/20">
                                <div class="text-xs text-amber-400 uppercase mb-1 font-semibold">Spacing</div>
                                <div class="text-2xl font-mono font-bold text-white" id="bittingSpacing">0.187"</div>
                            </div>
                            <div class="text-center p-4 bg-navy-950/60 rounded-xl border border-amber-500/20">
                                <div class="text-xs text-amber-400 uppercase mb-1 font-semibold">MACS</div>
                                <div class="text-2xl font-mono font-bold text-white" id="bittingMacs">3</div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-amber-500/20">
                                <div class="text-xs text-amber-400 uppercase mb-1 font-semibold">Cut Type</div>
                                <div class="text-sm font-semibold text-white" id="cutType">High Security / Sidewinder</div>
                            </div>
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-amber-500/20">
                                <div class="text-xs text-amber-400 uppercase mb-1 font-semibold">Machine Required</div>
                                <div class="text-sm font-semibold text-white" id="machineRequired">Laser/Vertical Mill</div>
                            </div>
                        </div>
                    </div>

                    <!-- EEPROM & Advanced Data (NEW) -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-indigo-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                                </svg>
                            </div>
                            EEPROM & Advanced Immobilizer Data
                        </h3>
                        <div id="eepromDataContainer" class="space-y-3">
                            <!-- Populated by JavaScript -->
                        </div>
                        <div class="mt-4 p-4 bg-indigo-500/10 border border-indigo-500/30 rounded-xl">
                            <div class="text-xs text-indigo-400 uppercase mb-2 font-semibold">Module Location</div>
                            <div class="text-sm text-indigo-200" id="eepromLocation">Check immobilizer box location</div>
                        </div>
                    </div>

                    <!-- Technical Specs -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-emerald-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z">
                                </path>
                            </svg>
                            </div>
                            Technical Specifications
                        </h3>
                        <div class="space-y-4">
                            <div class="flex justify-between py-3 border-b border-brand-500/20">
                                <span class="text-slate-400 font-medium">Engine</span>
                                <span class="text-white font-semibold text-right" id="specEngine">2.0L 4-Cyl</span>
                            </div>
                            <div class="flex justify-between py-3 border-b border-brand-500/20">
                                <span class="text-slate-400 font-medium">Drive Type</span>
                                <span class="text-white font-semibold text-right" id="specDrive">FWD</span>
                            </div>
                            <div class="flex justify-between py-3 border-b border-brand-500/20">
                                <span class="text-slate-400 font-medium">Manufacturer</span>
                                <span class="text-white font-semibold text-right" id="specManuf">Honda Motor Co., Ltd.</span>
                            </div>
                            <div class="flex justify-between py-3 border-b border-brand-500/20">
                                <span class="text-slate-400 font-medium">Plant Country</span>
                                <span class="text-white font-semibold text-right" id="specCountry">USA</span>
                            </div>
                            <div class="flex justify-between py-3">
                                <span class="text-slate-400 font-medium">Body Style</span>
                                <span class="text-white font-semibold text-right" id="specBody">Sedan</span>
                            </div>
                        </div>
                    </div>

                    <!-- Immobilizer Info -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-xl font-bold text-white mb-6 flex items-center gap-3">
                            <div class="w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                </svg>
                            </div>
                            Immobilizer System
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-purple-500/20">
                                <div class="text-xs text-purple-400 uppercase mb-1 font-semibold">System Type</div>
                                <div class="text-lg font-semibold text-white" id="immoSystem">Honda G-Chip System</div>
                            </div>
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-purple-500/20">
                                <div class="text-xs text-purple-400 uppercase mb-1 font-semibold">PIN Required</div>
                                <div class="text-lg font-semibold text-white" id="pinRequired">Yes - From Honda Dealer</div>
                            </div>
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-purple-500/20">
                                <div class="text-xs text-purple-400 uppercase mb-1 font-semibold">Max Keys</div>
                                <div class="text-lg font-semibold text-white" id="maxKeys">8 Keys</div>
                            </div>
                            <div class="p-4 bg-navy-950/60 rounded-xl border border-purple-500/20">
                                <div class="text-xs text-purple-400 uppercase mb-1 font-semibold">Programming Tool</div>
                                <div class="text-lg font-semibold text-white" id="progTool">Autel / Smart Pro</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar / Actions -->
                <div class="space-y-6">
                    <div class="glass-panel rounded-3xl p-6 bg-gradient-to-br from-brand-900/30 to-navy-900/50">
                        <h3 class="text-sm font-bold text-brand-400 uppercase tracking-widest mb-5">Quick Actions</h3>
                        <div class="space-y-3">
                            <button class="w-full py-4 px-5 bg-navy-800 hover:bg-navy-700 rounded-2xl text-left flex items-center gap-4 transition-all group border border-brand-500/20 hover:border-brand-500/40">
                                <div class="w-10 h-10 rounded-xl bg-brand-500/20 text-brand-400 flex items-center justify-center group-hover:bg-brand-500 group-hover:text-navy-950 transition-all">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </div>
                                <span class="text-slate-300 group-hover:text-white font-medium">Create Job Ticket</span>
                            </button>
                            <button class="w-full py-4 px-5 bg-navy-800 hover:bg-navy-700 rounded-2xl text-left flex items-center gap-4 transition-all group border border-emerald-500/20 hover:border-emerald-500/40">
                                <div class="w-10 h-10 rounded-xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center group-hover:bg-emerald-500 group-hover:text-white transition-all">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-slate-300 group-hover:text-white font-medium">Calculate Pricing</span>
                            </button>
                            <button class="w-full py-4 px-5 bg-navy-800 hover:bg-navy-700 rounded-2xl text-left flex items-center gap-4 transition-all group border border-purple-500/20 hover:border-purple-500/40">
                                <div class="w-10 h-10 rounded-xl bg-purple-500/20 text-purple-400 flex items-center justify-center group-hover:bg-purple-500 group-hover:text-white transition-all">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-slate-300 group-hover:text-white font-medium">Share Data</span>
                            </button>
                            <button class="w-full py-4 px-5 bg-navy-800 hover:bg-navy-700 rounded-2xl text-left flex items-center gap-4 transition-all group border border-red-500/20 hover:border-red-500/40">
                                <div class="w-10 h-10 rounded-xl bg-red-500/20 text-red-400 flex items-center justify-center group-hover:bg-red-500 group-hover:text-white transition-all">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>
                                    </svg>
                                </div>
                                <span class="text-slate-300 group-hover:text-white font-medium">Print Report</span>
                            </button>
                        </div>
                    </div>

                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-sm font-bold text-brand-400 uppercase tracking-widest mb-4">Notes</h3>
                        <textarea
                            class="w-full bg-navy-950/60 border-2 border-brand-500/20 rounded-xl p-4 text-sm text-slate-300 placeholder-slate-600 focus:outline-none focus:ring-2 focus:ring-brand-400 resize-none h-36 font-medium"
                            placeholder="Add job notes here..."></textarea>
                    </div>

                    <!-- Parts Reference -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-sm font-bold text-brand-400 uppercase tracking-widest mb-4">Parts Reference</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center p-3 bg-navy-950/40 rounded-lg">
                                <span class="text-sm text-slate-400">OEM Remote</span>
                                <span class="text-sm font-mono font-semibold text-white" id="oemRemote">72147-TBA-A11</span>
                </div>
                            <div class="flex justify-between items-center p-3 bg-navy-950/40 rounded-lg">
                                <span class="text-sm text-slate-400">Aftermarket</span>
                                <span class="text-sm font-mono font-semibold text-white" id="aftermarketRemote">ILCO HO-KIK</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-navy-950/40 rounded-lg">
                                <span class="text-sm text-slate-400">Shell Only</span>
                                <span class="text-sm font-mono font-semibold text-white" id="shellPart">HON-SHELL-4B</span>
                            </div>
                        </div>
                    </div>

                    <!-- Year Range & OBD Location -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-sm font-bold text-brand-400 uppercase tracking-widest mb-4">Service Info</h3>
                        <div class="space-y-3">
                            <div class="p-3 bg-navy-950/40 rounded-lg">
                                <div class="text-xs text-slate-500 mb-1">Year Range</div>
                                <div class="text-sm font-semibold text-white" id="yearRangeInfo">1996-2024</div>
                            </div>
                            <div class="p-3 bg-navy-950/40 rounded-lg">
                                <div class="text-xs text-slate-500 mb-1">OBD Location</div>
                                <div class="text-sm font-semibold text-white" id="obdLocationInfo">Under dash, left side</div>
                            </div>
                            <div class="p-3 bg-navy-950/40 rounded-lg">
                                <div class="text-xs text-slate-500 mb-1">PIN Source</div>
                                <div class="text-sm font-semibold text-white" id="pinSourceInfo">Dealer / Tool</div>
                            </div>
                        </div>
                    </div>

                    <!-- Chip Clone Guide -->
                    <div class="glass-panel rounded-3xl p-6">
                        <h3 class="text-sm font-bold text-brand-400 uppercase tracking-widest mb-4">Clone Chip Guide</h3>
                        <div id="cloneChipGuide" class="space-y-2 text-xs">
                            <!-- Populated dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Reverse Search Modal -->
    <div id="reverseSearchModal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/70 backdrop-blur-sm" onclick="closeReverseModal()"></div>
        <div class="absolute inset-4 md:inset-10 lg:inset-20 bg-navy-900 rounded-3xl border-2 border-brand-400 overflow-hidden flex flex-col">
            <!-- Modal Header -->
            <div class="p-6 border-b border-brand-500/30 flex items-center justify-between">
                <div>
                    <h2 id="reverseModalTitle" class="text-2xl font-bold text-white">üîç Reverse Search</h2>
                    <p id="reverseModalSubtitle" class="text-slate-400 text-sm mt-1">Finding all vehicles...</p>
                </div>
                <button onclick="closeReverseModal()" class="p-2 hover:bg-brand-500/20 rounded-xl transition-colors">
                    <svg class="w-6 h-6 text-slate-400 hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <!-- Modal Content -->
            <div class="flex-1 overflow-y-auto p-6">
                <div id="reverseSearchResults" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Results populated by JavaScript -->
                </div>
            </div>
            <!-- Modal Footer -->
            <div class="p-4 border-t border-brand-500/30 bg-navy-950/50">
                <p class="text-xs text-slate-500 text-center">Click on a vehicle to see full specifications</p>
            </div>
        </div>
    </div>

    <footer class="border-t border-brand-500/20 bg-navy-900/80 mt-12">
        <div class="max-w-7xl mx-auto py-8 px-4 text-center">
            <p class="gold-text font-semibold text-lg mb-2">&copy; 2025 Euro Keys</p>
            <p class="text-slate-500 text-sm">Professional Automotive Locksmith - Richmond, VA</p>
            <p class="mt-2 text-brand-400 font-semibold"><a href="tel:8045060709">(804) 506-0709</a></p>
            <p class="mt-3 text-xs text-slate-600">Data provided by NHTSA vPIC API. Key codes sourced from professional locksmith databases.</p>
        </div>
    </footer>

    <script>
        // ============================================================================
        // MASTER TRANSPONDER REFERENCE TABLE
        // Based on Ilco Auto/Truck Key Blank Reference & Industry Standards
        // ============================================================================
        const TRANSPONDER_TABLE = {
            'ID13': { name: 'Megamos Fixed', tech: 'Fixed Code', bits: '13-bit', clonable: true, cloneChip: 'T5', mfg: ['VW', 'GM (older)', 'Honda (older)'] },
            'ID4C': { name: 'Texas Fixed', tech: 'Fixed Code', bits: '40-bit', clonable: true, cloneChip: 'TPX1', mfg: ['Ford (Pre-2003)', 'Toyota (Pre-2003)'] },
            'ID4D60': { name: 'Texas Crypto 4D-60', tech: '40-Bit Crypto', bits: '40-bit', clonable: true, cloneChip: 'TPX2', mfg: ['Ford', 'Nissan'] },
            'ID4D63-40': { name: 'Texas Crypto 4D-63 (40-bit)', tech: '40-Bit Crypto', bits: '40-bit', clonable: true, cloneChip: 'CN1', mfg: ['Ford (2005-2012)'] },
            'ID4D63-80': { name: 'Texas Crypto 4D-63 (80-bit)', tech: '80-Bit Crypto', bits: '80-bit', clonable: true, cloneChip: 'CN5', mfg: ['Ford (2011+)', 'Mazda'] },
            'ID4D67': { name: 'Texas Crypto 4D-67', tech: 'Crypto', bits: '40-bit', clonable: true, cloneChip: 'TPX2', mfg: ['Toyota (2003-2009)'] },
            'ID4D68': { name: 'Texas Crypto 4D-68', tech: 'Crypto', bits: '40-bit', clonable: true, cloneChip: 'TPX2', mfg: ['Lexus', 'Toyota'] },
            'ID4D72-G': { name: 'Toyota G-Chip', tech: '80-Bit Crypto', bits: '80-bit', clonable: true, cloneChip: 'CN6', mfg: ['Toyota (2010-2019)'] },
            '8A-H': { name: 'Toyota H-Chip (8A)', tech: '128-Bit AES', bits: '128-bit', clonable: false, cloneChip: 'N/A', mfg: ['Toyota (2020+)', 'Lexus (2020+)'] },
            'ID46': { name: 'Philips Crypto 2', tech: 'Shadow Crypto', bits: '46-bit', clonable: true, cloneChip: 'TPX3/TPX4/CN3', mfg: ['Honda', 'GM (Circle+)', 'Nissan', 'Hyundai', 'Kia'] },
            'ID46E': { name: 'Philips Crypto 2 Extended', tech: 'Extended Crypto', bits: '46-bit', clonable: true, cloneChip: 'CN3', mfg: ['GM (newer)', 'Hyundai/Kia'] },
            'ID47': { name: 'Philips Hitag 3', tech: 'Hitag 3 AES', bits: '128-bit', clonable: false, cloneChip: 'N/A', mfg: ['Honda (2015+)', 'Hyundai/Kia (2016+)'] },
            'ID48': { name: 'Megamos Crypto', tech: 'Crypto', bits: '48-bit', clonable: true, cloneChip: 'ID48 Clone', mfg: ['VW', 'Audi', 'Volvo', 'Seat', 'Skoda'] },
            'ID48-CAN': { name: 'Megamos CAN', tech: 'CAN Crypto', bits: '48-bit', clonable: true, cloneChip: 'Super Chip', mfg: ['VW (2006+)'] },
            'ID49-Hitag-Pro': { name: 'Hitag Pro', tech: 'AES-128', bits: '128-bit', clonable: false, cloneChip: 'N/A', mfg: ['Ford (2015+)', 'Mazda (2014+)', 'JLR'] },
            'PCF7935': { name: 'PCF7935', tech: 'Fixed/Crypto', bits: 'Variable', clonable: true, cloneChip: 'T5', mfg: ['Various European'] },
            'PCF7936': { name: 'PCF7936 (ID46)', tech: 'Crypto', bits: '46-bit', clonable: true, cloneChip: 'TPX4', mfg: ['Honda', 'Nissan'] },
            'PCF7941': { name: 'PCF7941', tech: 'Crypto', bits: '128-bit', clonable: false, cloneChip: 'N/A', mfg: ['Mercedes-Benz'] },
            'PCF7945': { name: 'PCF7945', tech: 'Hitag 2', bits: '128-bit', clonable: true, cloneChip: 'Super Chip', mfg: ['BMW (E-series)'] },
            'PCF7952': { name: 'PCF7952', tech: 'Hitag 2', bits: '128-bit', clonable: true, cloneChip: 'CN2', mfg: ['Renault', 'Nissan'] },
            'HITAG-AES-4A': { name: 'Hitag AES (4A)', tech: '128-Bit AES', bits: '128-bit', clonable: false, cloneChip: 'N/A', mfg: ['Chrysler/Dodge/Jeep (2018+)'] },
            'MQB': { name: 'MQB (VAG)', tech: 'AES-128', bits: '128-bit', clonable: false, cloneChip: 'N/A', mfg: ['VW (2012+)', 'Audi (2012+)', 'Skoda', 'Seat'] },
            'GM-VATS': { name: 'GM VATS (Resistor)', tech: 'Resistor Pellet', bits: 'N/A', clonable: true, cloneChip: 'Resistor Match', mfg: ['GM (1986-2005)'], resistorValues: true }
        };

        // GM VATS Resistor Values (15 Pellets)
        const VATS_RESISTOR_VALUES = {
            1: 0.402, 2: 0.523, 3: 0.681, 4: 0.887, 5: 1.130,
            6: 1.470, 7: 1.870, 8: 2.370, 9: 3.010, 10: 3.740,
            11: 4.750, 12: 5.900, 13: 7.500, 14: 9.530, 15: 11.800
        };

        // ============================================================================
        // CROSS-REFERENCE TABLES (Ilco / Strattec / JMA / KEYDIY)
        // ============================================================================
        const CROSS_REFERENCE = {
            'FORD-8CUT': { ilco: 'H72-PT', strattec: '597602', jma: 'FO-15D', keydiy: 'B12-3', keyway: '8-Cut Tibbe / H72 Edge', machine: 'Standard Edge Cut' },
            'FORD-8CUT-H75': { ilco: 'H75-PT', strattec: '597608', jma: 'FO-15DP', keydiy: 'B12-3', keyway: '8-Cut H75 Edge', machine: 'Standard Edge Cut' },
            'FORD-PATS-H92': { ilco: 'H92-PT', strattec: '5913441', jma: 'FO-21DP', keydiy: 'KD-X2', keyway: 'H92 Edge', machine: 'Standard Edge Cut' },
            'FORD-PATS-H94': { ilco: 'H94-PT', strattec: '5913442', jma: 'FO-22DP', keydiy: 'KD-X2', keyway: 'H94 Edge', machine: 'Standard Edge Cut' },
            'FORD-HU101': { ilco: 'HU101-PT', strattec: '164-R8091', jma: 'FO-24DP', keydiy: 'B21-4', keyway: 'HU101 High Security', machine: 'Laser/Sidewinder' },
            'GM-Z-KEYWAY': { ilco: 'B106-PT', strattec: '692931', jma: 'GM-37', keydiy: 'B22-4', keyway: 'Z-Keyway High Security', machine: 'Vertical Mill (Sidewinder)' },
            'GM-B111': { ilco: 'B111-PT', strattec: '5913598', jma: 'GM-38', keydiy: 'B22-3', keyway: 'B111 Circle Plus', machine: 'Standard Edge Cut' },
            'GM-HU100': { ilco: 'HU100-PT', strattec: '5912543', jma: 'GM-39', keydiy: 'B22-5', keyway: 'HU100 High Security', machine: 'Laser/Sidewinder' },
            'TOYOTA-TR47': { ilco: 'TOY43AT-4', strattec: 'N/A', jma: 'TOYO-15', keydiy: 'B13-3', keyway: 'TR47 High Security', machine: 'Laser/Sidewinder' },
            'TOYOTA-TOY48': { ilco: 'TOY48-PT', strattec: 'N/A', jma: 'TOYO-24', keydiy: 'B13-4', keyway: 'TOY48 Smart Key', machine: 'Laser/Sidewinder' },
            'CHRYSLER-Y164': { ilco: 'Y164-PT', strattec: '68029829AB', jma: 'CHR-15', keydiy: 'B35', keyway: 'Fobik / Y164 Edge', machine: 'Standard Edge Cut' },
            'CHRYSLER-Y166': { ilco: 'Y166-PT', strattec: '68394195AA', jma: 'CHR-17', keydiy: 'B35', keyway: 'Y166 High Security', machine: 'Laser/Sidewinder' },
            'HONDA-HO01': { ilco: 'HO01-PT', strattec: '35118-TE0-A10', jma: 'HOND-31', keydiy: 'B10-3', keyway: 'HO01 High Security', machine: 'Laser/Sidewinder' },
            'HONDA-HO03': { ilco: 'HO03-PT', strattec: '35118-TBA-A11', jma: 'HOND-33', keydiy: 'B10-4', keyway: 'HO03 Smart Key', machine: 'Laser/Sidewinder' },
            'NISSAN-NSN14': { ilco: 'NI04-PT', strattec: '285E3-3AA0B', jma: 'NISS-38', keydiy: 'B36-4', keyway: 'NSN14 High Security', machine: 'Laser/Sidewinder' },
            'BMW-HU92': { ilco: 'HU92-PT', strattec: 'N/A', jma: 'BMW-20', keydiy: 'ZB02', keyway: 'HU92 Track', machine: 'Laser/Sidewinder' },
            'BMW-HU100R': { ilco: 'HU100R-PT', strattec: 'N/A', jma: 'BMW-22', keydiy: 'ZB02-4', keyway: 'HU100R High Security', machine: 'Laser/Sidewinder' },
            'VW-HU66': { ilco: 'HU66-PT', strattec: 'N/A', jma: 'VW-24', keydiy: 'B33', keyway: 'HU66 Profile', machine: 'Laser/Sidewinder' },
            'VW-HU162T': { ilco: 'HU162T-PT', strattec: 'N/A', jma: 'VW-27', keydiy: 'B33-4', keyway: 'HU162T MQB', machine: 'Laser/Sidewinder' },
            'MERCEDES-HU64': { ilco: 'HU64-PT', strattec: 'N/A', jma: 'MB-19', keydiy: 'B06', keyway: 'HU64 Track', machine: 'Laser/Sidewinder' }
        };

        // ============================================================================
        // FCC ID CROSS-REFERENCE (One FCC ID ‚Üí Multiple Vehicles)
        // ============================================================================
        const FCC_CROSS_REFERENCE = {
            'M3N-40821302': {
                frequency: '433.92 MHz',
                modulation: 'FSK',
                chip: 'Hitag AES (4A) / ID46',
                vehicles: [
                    { make: 'Dodge', model: 'Challenger', years: '2015-2023' },
                    { make: 'Dodge', model: 'Charger', years: '2015-2023' },
                    { make: 'Chrysler', model: '300', years: '2015-2023' },
                    { make: 'Jeep', model: 'Grand Cherokee', years: '2014-2021' }
                ],
                partNumbers: ['68234959AB (Red)', '05026676AC (Black)']
            },
            'M3N-97395900': {
                frequency: '434 MHz',
                modulation: 'FSK',
                chip: 'Hitag AES (128-bit)',
                vehicles: [
                    { make: 'Chrysler', model: 'Pacifica', years: '2021-2024' },
                    { make: 'Chrysler', model: 'Voyager', years: '2021-2024' }
                ],
                partNumbers: ['68238689 (KeySense)', '68394195AB']
            },
            'GQ4-76T': {
                frequency: '433.92 MHz',
                modulation: 'FSK',
                chip: 'Hitag AES (4A)',
                vehicles: [
                    { make: 'Dodge', model: 'Ram 1500', years: '2019-2024' },
                    { make: 'Dodge', model: 'Ram 2500', years: '2019-2024' },
                    { make: 'Dodge', model: 'Ram 3500', years: '2019-2024' }
                ],
                partNumbers: ['68442911AA', '68442911AB']
            },
            'CWTWB1G0090': {
                frequency: '433 MHz',
                modulation: 'FSK',
                chip: 'NXP ID4A AES (128-bit)',
                vehicles: [
                    { make: 'Honda', model: 'Accord', years: '2018-2023' },
                    { make: 'Honda', model: 'Accord Hybrid', years: '2018-2023' }
                ],
                partNumbers: ['72147-TVA-A11 (4B)', '72147-TWA-A31 (5B)']
            },
            'KR5V2X': {
                frequency: '433 MHz',
                modulation: 'FSK',
                chip: 'Hitag Pro (ID49)',
                vehicles: [
                    { make: 'Honda', model: 'CR-V', years: '2019-2024' },
                    { make: 'Honda', model: 'Pilot', years: '2019-2024' },
                    { make: 'Honda', model: 'Passport', years: '2019-2024' }
                ],
                partNumbers: ['72147-TLA-A11', '72147-TG7-A11']
            },
            'YGOHUF5662': {
                frequency: '315/434 MHz',
                modulation: 'FSK',
                chip: 'PCF7945 / Hitag Pro (ID49)',
                vehicles: [
                    { make: 'BMW', model: '3 Series (E90/F30)', years: '2005-2018' },
                    { make: 'BMW', model: '5 Series (E60/F10)', years: '2004-2017' },
                    { make: 'BMW', model: 'X5 (E70)', years: '2007-2013' }
                ],
                partNumbers: ['66-12-9-316-125', '66-12-9-259-716']
            },
            'KR55WK49127': {
                frequency: '315/434 MHz',
                modulation: 'FSK',
                chip: 'PCF7945',
                vehicles: [
                    { make: 'BMW', model: '1 Series', years: '2008-2014' },
                    { make: 'BMW', model: '3 Series', years: '2006-2013' },
                    { make: 'BMW', model: 'Z4', years: '2009-2016' }
                ],
                partNumbers: ['66-12-9-259-718']
            },
            'KOBLEAR1XT': {
                frequency: '315 MHz',
                modulation: 'ASK',
                chip: 'ID46 (Philips Crypto 2)',
                vehicles: [
                    { make: 'Chevrolet', model: 'Silverado', years: '2014-2018' },
                    { make: 'Chevrolet', model: 'Tahoe', years: '2015-2020' },
                    { make: 'Chevrolet', model: 'Suburban', years: '2015-2020' },
                    { make: 'GMC', model: 'Sierra', years: '2014-2018' },
                    { make: 'GMC', model: 'Yukon', years: '2015-2020' }
                ],
                partNumbers: ['13577770', '13580082']
            },
            'HYQ12BDB': {
                frequency: '315 MHz',
                modulation: 'ASK',
                chip: 'Texas 4D-67 (Dot) / G-Chip',
                vehicles: [
                    { make: 'Toyota', model: 'Camry', years: '2007-2017' },
                    { make: 'Toyota', model: 'Corolla', years: '2009-2019' },
                    { make: 'Toyota', model: 'RAV4', years: '2006-2018' }
                ],
                partNumbers: ['89070-06420', '89070-02880']
            },
            'HYQ14FBA': {
                frequency: '315 MHz',
                modulation: 'ASK',
                chip: 'Texas H-Chip (128-bit AES)',
                vehicles: [
                    { make: 'Toyota', model: 'Camry', years: '2015-2017' },
                    { make: 'Toyota', model: 'Avalon', years: '2013-2018' },
                    { make: 'Toyota', model: 'Corolla', years: '2014-2019' }
                ],
                partNumbers: ['89904-06140', '89904-02450']
            },
            'M3N5WY8609': {
                frequency: '315 MHz',
                modulation: 'ASK',
                chip: 'Texas 4D-63 (80-bit)',
                vehicles: [
                    { make: 'Ford', model: 'F-150', years: '2011-2014' },
                    { make: 'Ford', model: 'Mustang', years: '2011-2014' },
                    { make: 'Ford', model: 'Explorer', years: '2011-2015' }
                ],
                partNumbers: ['164-R8000', '164-R8067']
            },
            'M3N-A2C931426': {
                frequency: '902 MHz',
                modulation: 'FSK',
                chip: 'Hitag Pro (ID49)',
                vehicles: [
                    { make: 'Ford', model: 'F-150', years: '2015-2020' },
                    { make: 'Ford', model: 'Edge', years: '2015-2021' },
                    { make: 'Ford', model: 'Explorer', years: '2016-2019' }
                ],
                partNumbers: ['164-R8130', '164-R8163']
            },
            'KR5S180144014': {
                frequency: '433 MHz',
                modulation: 'FSK',
                chip: 'ID46E (Philips Crypto 2)',
                vehicles: [
                    { make: 'Nissan', model: 'Altima', years: '2013-2018' },
                    { make: 'Nissan', model: 'Maxima', years: '2016-2020' },
                    { make: 'Nissan', model: 'Pathfinder', years: '2013-2020' },
                    { make: 'Infiniti', model: 'QX60', years: '2014-2020' }
                ],
                partNumbers: ['285E3-9HP4B', '285E3-3JA0A']
            }
        };

        // ============================================================================
        // CODE SERIES ARCHITECTURE
        // ============================================================================
        const CODE_SERIES = {
            'FORD-H-SERIES': { name: 'Ford 8-Cut', range: '0001X-1706X', depths: 5, positions: 10, spacing: '0.150"', macs: 4, notes: '8 cuts used in ignition' },
            'GM-Z-SERIES': { name: 'GM Z-Keyway', range: 'Z0001-Z6000', depths: 4, positions: 10, spacing: '0.1875"', macs: 4, notes: 'High Security sidewinder' },
            'GM-B-SERIES': { name: 'GM B/Circle Plus', range: 'B0001-B4000', depths: 5, positions: 10, spacing: '0.150"', macs: 4, notes: 'Standard edge cut' },
            'CHRYSLER-M-SERIES': { name: 'Chrysler/Dodge', range: 'M001-M2618', depths: 5, positions: 8, spacing: '0.150"', macs: 4, notes: 'Fobik/Key systems' },
            'TOYOTA-HI-SEC': { name: 'Toyota High Sec', range: '50000-69999', depths: 4, positions: 8, spacing: '0.200"', macs: 3, notes: 'Sidewinder cut' },
            'HONDA-HI-SEC': { name: 'Honda High Sec', range: 'K001-N718', depths: 4, positions: 8, spacing: '0.187"', macs: 3, notes: 'Sidewinder cut' },
            'NISSAN-SERIES': { name: 'Nissan/Infiniti', range: '1-22185', depths: 4, positions: 8, spacing: '0.187"', macs: 3, notes: 'High security' },
            'BMW-SERIES': { name: 'BMW EWS/CAS', range: 'BH00001-BH24530', depths: 4, positions: 8, spacing: '0.200"', macs: 3, notes: 'Track cut' },
            'VW-SERIES': { name: 'VW/Audi', range: 'HU66 Series', depths: 6, positions: 8, spacing: '0.175"', macs: 6, notes: 'Profile cut' }
        };

        // ============================================================================
        // TOP 10 MOST COMMON TRANSPONDER KEYS (Inventory Priority)
        // ============================================================================
        const TOP_TRANSPONDER_KEYS = [
            { rank: 1, ilco: 'B111-PT', desc: 'GM Circle Plus', volume: 'Very High', vehicles: 'Chevy Impala, Buick Lucerne, GM 2006-2016' },
            { rank: 2, ilco: 'H92-PT', desc: 'Ford 80-Bit', volume: 'Very High', vehicles: 'Ford F-Series, Focus, Fusion 2011+' },
            { rank: 3, ilco: 'Y164-PT', desc: 'Chrysler Fobik', volume: 'High', vehicles: 'Dodge/Jeep/Chrysler 2008+' },
            { rank: 4, ilco: 'H72-PT', desc: 'Ford 4C/4D', volume: 'High', vehicles: 'Ford Taurus, Explorer 1996-2010' },
            { rank: 5, ilco: 'NI04-PT', desc: 'Nissan I-Key', volume: 'High', vehicles: 'Altima, Maxima, Sentra 2007+' },
            { rank: 6, ilco: 'TOY44D-PT', desc: 'Toyota Dot Chip', volume: 'High', vehicles: 'Camry, Corolla 2003-2010' },
            { rank: 7, ilco: 'B119-PT', desc: 'GM Z-Keyway Flip', volume: 'High', vehicles: 'Camaro, Equinox, Cruze 2010+' },
            { rank: 8, ilco: 'Y170-PT', desc: 'Chrysler Fobik Pod', volume: 'Medium', vehicles: 'Emergency key for Fobik systems' },
            { rank: 9, ilco: 'Y160-PT', desc: 'Chrysler Grey Head', volume: 'Medium', vehicles: 'Older Jeep/Dodge 2004-2008' },
            { rank: 10, ilco: 'HD106-PT', desc: 'Honda/Acura', volume: 'High', vehicles: 'Accord, Civic 2003-2015' }
        ];

        // ============================================================================
        // AFFILIATE PRODUCTS DATABASE
        // FCC ID verified products from Amazon
        // ============================================================================
        const AFFILIATE_PRODUCTS = {
    'ACURA': [
        {
            name: 'Acura TLX Smart Key',
            fccId: 'OUCG8D-380H-A',
            price: '$41.99',
            rating: '4.6',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=OUCG8D-380H-A+acura+tlx+smart+key',
        },
        {
            name: 'Acura RDX Smart Key',
            fccId: 'OUCG8D-380H-A',
            price: '$42.99',
            rating: '4.7',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=OUCG8D-380H-A+acura+rdx+smart+key',
        },
        {
            name: 'Acura MDX Smart Key',
            fccId: 'OUCG8D-380H-A',
            price: '$43.99',
            rating: '4.6',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=OUCG8D-380H-A+acura+mdx+smart+key',
        },
        {
            name: 'Acura ILX Smart Key',
            fccId: 'OUCG8D-380H-A',
            price: '$40.99',
            rating: '4.5',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=OUCG8D-380H-A+acura+ilx+smart+key',
        },
    ],
    'AUDI': [
        {
            name: 'Audi A4 Smart Key KESSY',
            fccId: 'NBGFS14P71',
            price: '$49.99',
            rating: '4.6',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS14P71+audi+a4+smart+key',
        },
        {
            name: 'Audi A6 Smart Key KESSY',
            fccId: 'NBGFS14P71',
            price: '$50.99',
            rating: '4.7',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS14P71+audi+a6+smart+key',
        },
        {
            name: 'Audi Q5 Smart Key KESSY',
            fccId: 'NBGFS14P71',
            price: '$51.99',
            rating: '4.6',
            reviews: '13',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS14P71+audi+q5+smart+key',
        },
        {
            name: 'Audi Q7 Smart Key KESSY',
            fccId: 'NBGFS14P71',
            price: '$52.99',
            rating: '4.7',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS14P71+audi+q7+smart+key',
        },
        {
            name: 'Audi A3 Smart Key KESSY',
            fccId: 'NBGFS14P71',
            price: '$48.99',
            rating: '4.5',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS14P71+audi+a3+smart+key',
        },
        {
            name: 'Audi Q3 Smart Key KESSY',
            fccId: 'NBGFS14P71',
            price: '$50.99',
            rating: '4.6',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS14P71+audi+q3+smart+key',
        },
    ],
    'BMW': [
        {
            name: 'BMW 3-Series Smart Key CAS',
            fccId: 'YGOHUF5662',
            price: '$53.99',
            rating: '4.6',
            reviews: '18',
            amazonUrl: 'https://www.amazon.com/s?k=YGOHUF5662+bmw+3+series+smart+key',
        },
        {
            name: 'BMW 5-Series Smart Key CAS',
            fccId: 'YGOHUF5662',
            price: '$54.99',
            rating: '4.7',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=YGOHUF5662+bmw+5+series+smart+key',
        },
        {
            name: 'BMW X3 Smart Key FEM',
            fccId: 'YGOHUF5662',
            price: '$55.99',
            rating: '4.6',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=YGOHUF5662+bmw+x3+smart+key',
        },
        {
            name: 'BMW X5 Smart Key FEM',
            fccId: 'YGOHUF5662',
            price: '$56.99',
            rating: '4.7',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=YGOHUF5662+bmw+x5+smart+key',
        },
        {
            name: 'BMW X1 Smart Key',
            fccId: 'YGOHUF5662',
            price: '$54.99',
            rating: '4.5',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=YGOHUF5662+bmw+x1+smart+key',
        },
        {
            name: 'BMW X7 Smart Key',
            fccId: 'YGOHUF5662',
            price: '$57.99',
            rating: '4.8',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=YGOHUF5662+bmw+x7+smart+key',
        },
    ],
    'BUICK': [
        {
            name: 'Buick LaCrosse Smart Key',
            fccId: 'OUC6000066',
            price: '$30.99',
            rating: '4.3',
            reviews: '5',
            amazonUrl: 'https://www.amazon.com/s?k=OUC6000066+buick+lacrosse+smart+key',
        },
        {
            name: 'Buick Enclave Smart Key',
            fccId: 'OUC6000066',
            price: '$31.99',
            rating: '4.4',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=OUC6000066+buick+enclave+smart+key',
        },
        {
            name: 'Buick Encore Smart Key',
            fccId: 'OUC6000066',
            price: '$30.99',
            rating: '4.3',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=OUC6000066+buick+encore+smart+key',
        },
    ],
    'CADILLAC': [
        {
            name: 'Cadillac CTS Smart Key PEPS',
            fccId: 'HYQ2EB',
            price: '$35.99',
            rating: '4.5',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ2EB+cadillac+cts+smart+key',
        },
        {
            name: 'Cadillac Escalade Smart Key PEPS',
            fccId: 'HYQ2EB',
            price: '$36.99',
            rating: '4.6',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ2EB+cadillac+escalade+smart+key',
        },
        {
            name: 'Cadillac XT5 Smart Key PEPS',
            fccId: 'HYQ2EB',
            price: '$36.99',
            rating: '4.5',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ2EB+cadillac+xt5+smart+key',
        },
        {
            name: 'Cadillac XT6 Smart Key PEPS',
            fccId: 'HYQ2EB',
            price: '$37.99',
            rating: '4.6',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ2EB+cadillac+xt6+smart+key',
        },
    ],
    'CHEVROLET': [
        {
            name: 'Chevy Silverado Smart Key PEPS',
            fccId: 'HYQ1AA',
            price: '$36.99',
            rating: '4.5',
            reviews: '28',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+silverado+smart+key',
        },
        {
            name: 'Chevy Equinox Smart Key 2010-2017',
            fccId: 'HYQ1AA',
            price: '$34.99',
            rating: '4.4',
            reviews: '21',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+equinox+smart+key',
        },
        {
            name: 'Chevy Cruze Smart Key 2011-2016',
            fccId: 'HYQ1AA',
            price: '$35.99',
            rating: '4.5',
            reviews: '16',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+cruze+smart+key',
        },
        {
            name: 'Chevy Malibu Smart Key 2013-2018',
            fccId: 'HYQ1AA',
            price: '$33.99',
            rating: '4.3',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+malibu+smart+key',
        },
        {
            name: 'Chevy Impala Smart Key Circle Plus',
            fccId: 'OHT01060512',
            price: '$28.99',
            rating: '4.3',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=OHT01060512+chevrolet+impala+key',
        },
        {
            name: 'Chevy Tahoe Smart Key 2015-2020',
            fccId: 'HYQ1AA',
            price: '$37.99',
            rating: '4.6',
            reviews: '31',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+tahoe+smart+key',
        },
        {
            name: 'Chevy Suburban Smart Key 2015-2020',
            fccId: 'HYQ1AA',
            price: '$38.99',
            rating: '4.6',
            reviews: '19',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+suburban+smart+key',
        },
        {
            name: 'Chevy Traverse Smart Key 2018-2023',
            fccId: 'HYQ1AA',
            price: '$36.99',
            rating: '4.5',
            reviews: '23',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+traverse+smart+key',
        },
        {
            name: 'Chevy Colorado Smart Key 2015-2022',
            fccId: 'HYQ1AA',
            price: '$35.99',
            rating: '4.4',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+colorado+smart+key',
        },
        {
            name: 'Chevy Camaro Smart Key 2016-2023',
            fccId: 'HYQ1AA',
            price: '$37.99',
            rating: '4.5',
            reviews: '18',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+camaro+smart+key',
        },
        {
            name: 'Chevy Corvette Smart Key 2014-2023',
            fccId: 'HYQ1AA',
            price: '$39.99',
            rating: '4.7',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+corvette+smart+key',
        },
        {
            name: 'Chevy Blazer Smart Key 2019-2023',
            fccId: 'HYQ1AA',
            price: '$36.99',
            rating: '4.5',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+chevrolet+blazer+smart+key',
        },
    ],
    'CHRYSLER': [
        {
            name: 'Chrysler 300 Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$37.99',
            rating: '4.4',
            reviews: '17',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+chrysler+300+smart+key',
        },
        {
            name: 'Chrysler Pacifica Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$38.99',
            rating: '4.5',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+chrysler+pacifica+smart+key',
        },
        {
            name: 'Chrysler Town & Country Fobik Key',
            fccId: 'M3N-40821302',
            price: '$36.99',
            rating: '4.3',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+chrysler+town+country+smart+key',
        },
    ],
    'DODGE': [
        {
            name: 'Dodge Charger Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$37.99',
            rating: '4.4',
            reviews: '23',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+dodge+charger+smart+key',
        },
        {
            name: 'Dodge Challenger Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$37.99',
            rating: '4.4',
            reviews: '19',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+dodge+challenger+smart+key',
        },
        {
            name: 'Dodge Durango Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$38.99',
            rating: '4.5',
            reviews: '16',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+dodge+durango+smart+key',
        },
        {
            name: 'Dodge Journey Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$36.99',
            rating: '4.3',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+dodge+journey+smart+key',
        },
        {
            name: 'Dodge Grand Caravan Fobik Key',
            fccId: 'M3N-40821302',
            price: '$36.99',
            rating: '4.3',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+dodge+grand+caravan+smart+key',
        },
    ],
    'FORD': [
        {
            name: 'Ford Fusion Smart Key 2013-2020',
            fccId: 'M3N-A2C93142600',
            price: '$39.99',
            rating: '4.4',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+fusion+smart+key',
        },
        {
            name: 'Ford Focus Smart Key 2012-2018',
            fccId: 'M3N-A2C93142600',
            price: '$38.99',
            rating: '4.3',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+focus+smart+key',
        },
        {
            name: 'Ford Escape Smart Key 2013-2019',
            fccId: 'M3N-A2C93142600',
            price: '$41.99',
            rating: '4.5',
            reviews: '19',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+escape+smart+key',
        },
        {
            name: 'Ford Explorer Smart Key 2011-2019',
            fccId: 'M3N-A2C93142600',
            price: '$43.99',
            rating: '4.6',
            reviews: '24',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+explorer+smart+key',
        },
        {
            name: 'Ford Mustang Smart Key 2015-2023',
            fccId: 'M3N-A2C93142600',
            price: '$40.99',
            rating: '4.4',
            reviews: '13',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+mustang+smart+key',
        },
        {
            name: 'Ford Edge Smart Key 2015-2023',
            fccId: 'M3N-A2C93142600',
            price: '$42.99',
            rating: '4.5',
            reviews: '17',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+edge+smart+key',
        },
        {
            name: 'Ford Transit Smart Key 2014-2023',
            fccId: 'M3N-A2C93142600',
            price: '$44.99',
            rating: '4.4',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+transit+smart+key',
        },
        {
            name: 'Ford Expedition Smart Key 2015-2022',
            fccId: 'M3N-A2C93142600',
            price: '$45.99',
            rating: '4.6',
            reviews: '16',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+expedition+smart+key',
        },
        {
            name: 'Ford Ranger Smart Key 2019-2023',
            fccId: 'M3N-A2C93142600',
            price: '$41.99',
            rating: '4.5',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+ranger+smart+key',
        },
        {
            name: 'Ford Bronco Smart Key 2021-2023',
            fccId: 'M3N-A2C93142600',
            price: '$43.99',
            rating: '4.6',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+bronco+smart+key',
        },
    ],
    'FORD F-150': [
        {
            name: 'Ford F-150 Smart Key 2023-2024 YIKEBALOG',
            fccId: 'M3N-A2C93142600',
            price: '$49.99',
            rating: '4.5',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+f150+smart+key+2023',
        },
        {
            name: 'Ford F-150 Key Replacement 164-R8166',
            fccId: 'M3N-A2C93142600',
            price: '$45.99',
            rating: '4.4',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=164-R8166+ford+f150+key',
        },
        {
            name: 'Ford F-150 Remote Head Key H92',
            fccId: 'M3N-A2C93142600',
            price: '$42.99',
            rating: '4.3',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+f150+h92+key',
        },
        {
            name: 'Ford F-150 Key Shell Replacement',
            fccId: 'M3N-A2C93142600',
            price: '$18.99',
            rating: '4.2',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C93142600+ford+f150+key+shell',
        },
        {
            name: 'Ford F-150 Emergency Key Blade H94',
            fccId: 'M3N-A2C93142600',
            price: '$14.99',
            rating: '4.3',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=H94+ford+f150+emergency+key',
        },
    ],
    'GMC': [
        {
            name: 'GMC Sierra Smart Key',
            fccId: 'HYQ1AA',
            price: '$36.99',
            rating: '4.6',
            reviews: '20',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+gmc+sierra+smart+key',
        },
        {
            name: 'GMC Yukon Smart Key',
            fccId: 'HYQ1AA',
            price: '$37.99',
            rating: '4.6',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+gmc+yukon+smart+key',
        },
        {
            name: 'GMC Acadia Smart Key',
            fccId: 'HYQ1AA',
            price: '$36.99',
            rating: '4.5',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+gmc+acadia+smart+key',
        },
        {
            name: 'GMC Terrain Smart Key',
            fccId: 'HYQ1AA',
            price: '$35.99',
            rating: '4.4',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+gmc+terrain+smart+key',
        },
        {
            name: 'GMC Canyon Smart Key',
            fccId: 'HYQ1AA',
            price: '$36.99',
            rating: '4.5',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ1AA+gmc+canyon+smart+key',
        },
    ],
    'HONDA': [
        {
            name: 'Honda Civic Smart Key 2016-2021',
            fccId: 'KR55WK49303',
            price: '$31.99',
            rating: '4.4',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49303+honda+civic+smart+key',
        },
        {
            name: 'Honda CR-V Smart Key 2017-2022',
            fccId: 'KR55WK49303',
            price: '$33.99',
            rating: '4.5',
            reviews: '18',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49303+honda+crv+smart+key',
        },
        {
            name: 'Honda Pilot Smart Key 2016-2022',
            fccId: 'KR55WK49303',
            price: '$35.99',
            rating: '4.6',
            reviews: '22',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49303+honda+pilot+smart+key',
        },
        {
            name: 'Honda Odyssey Smart Key 2018-2023',
            fccId: 'KR55WK49303',
            price: '$34.99',
            rating: '4.5',
            reviews: '16',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49303+honda+odyssey+smart+key',
        },
        {
            name: 'Honda HR-V Smart Key 2016-2021',
            fccId: 'KR55WK49303',
            price: '$32.99',
            rating: '4.4',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49303+honda+hrv+smart+key',
        },
        {
            name: 'Honda Ridgeline Smart Key 2017-2023',
            fccId: 'KR55WK49303',
            price: '$36.99',
            rating: '4.5',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49303+honda+ridgeline+smart+key',
        },
        {
            name: 'Honda Passport Smart Key 2019-2023',
            fccId: 'KR55WK49303',
            price: '$35.99',
            rating: '4.6',
            reviews: '13',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49303+honda+passport+smart+key',
        },
    ],
    'HONDA ACCORD': [
        {
            name: 'ABUDU 2018-2022 Honda Accord Smart Key 4+1 Buttons',
            fccId: 'CWTWB1G0090',
            price: '$32.99',
            rating: '5.0',
            reviews: '2',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1G0090+honda+accord+smart+key+2018',
        },
        {
            name: 'USA Grade Honda Accord Key Shell Replacement',
            fccId: 'CWTWB1G0090',
            price: '$17.00',
            rating: '4.1',
            reviews: '15+',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1G0090+honda+accord+key+shell',
        },
        {
            name: 'Honda Accord Emergency Key Blade HO01',
            fccId: 'CWTWB1G0090',
            price: '$12.99',
            rating: '4.3',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=35118-T2A-A50+honda+accord+emergency+key',
        },
        {
            name: 'Honda Accord 5-Button Smart Key w/Remote Start',
            fccId: 'CWTWB1G0090',
            price: '$35.99',
            rating: '4.5',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1G0090+honda+accord+5+button+remote+start',
        },
    ],
    'HYUNDAI': [
        {
            name: 'Hyundai Elantra Smart Key Flip',
            fccId: 'SY5MDFNA433',
            price: '$33.99',
            rating: '4.4',
            reviews: '19',
            amazonUrl: 'https://www.amazon.com/s?k=SY5MDFNA433+hyundai+elantra+smart+key',
        },
        {
            name: 'Hyundai Sonata Smart Key Flip',
            fccId: 'SY5MDFNA433',
            price: '$34.99',
            rating: '4.5',
            reviews: '24',
            amazonUrl: 'https://www.amazon.com/s?k=SY5MDFNA433+hyundai+sonata+smart+key',
        },
        {
            name: 'Hyundai Tucson Smart Key Flip',
            fccId: 'SY5MDFNA433',
            price: '$35.99',
            rating: '4.5',
            reviews: '27',
            amazonUrl: 'https://www.amazon.com/s?k=SY5MDFNA433+hyundai+tucson+smart+key',
        },
        {
            name: 'Hyundai Santa Fe Smart Key Flip',
            fccId: 'SY5MDFNA433',
            price: '$36.99',
            rating: '4.6',
            reviews: '21',
            amazonUrl: 'https://www.amazon.com/s?k=SY5MDFNA433+hyundai+santa+fe+smart+key',
        },
        {
            name: 'Hyundai Kona Smart Key Flip',
            fccId: 'SY5MDFNA433',
            price: '$34.99',
            rating: '4.4',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=SY5MDFNA433+hyundai+kona+smart+key',
        },
        {
            name: 'Hyundai Palisade Smart Key Flip',
            fccId: 'SY5MDFNA433',
            price: '$37.99',
            rating: '4.6',
            reviews: '18',
            amazonUrl: 'https://www.amazon.com/s?k=SY5MDFNA433+hyundai+palisade+smart+key',
        },
    ],
    'INFINITI': [
        {
            name: 'Infiniti Q50 Smart Key',
            fccId: 'CWTWB1G744',
            price: '$41.99',
            rating: '4.5',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1G744+infiniti+q50+smart+key',
        },
        {
            name: 'Infiniti QX60 Smart Key',
            fccId: 'CWTWB1G744',
            price: '$42.99',
            rating: '4.6',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1G744+infiniti+qx60+smart+key',
        },
        {
            name: 'Infiniti QX80 Smart Key',
            fccId: 'CWTWB1G744',
            price: '$43.99',
            rating: '4.6',
            reviews: '5',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1G744+infiniti+qx80+smart+key',
        },
        {
            name: 'Infiniti QX50 Smart Key',
            fccId: 'CWTWB1G744',
            price: '$42.99',
            rating: '4.5',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1G744+infiniti+qx50+smart+key',
        },
    ],
    'JAGUAR': [
        {
            name: 'Jaguar XF Smart Key',
            fccId: 'KOBJTF10A',
            price: '$55.99',
            rating: '4.6',
            reviews: '5',
            amazonUrl: 'https://www.amazon.com/s?k=KOBJTF10A+jaguar+xf+smart+key',
        },
        {
            name: 'Jaguar F-Pace Smart Key',
            fccId: 'KOBJTF10A',
            price: '$56.99',
            rating: '4.7',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=KOBJTF10A+jaguar+f-pace+smart+key',
        },
        {
            name: 'Jaguar XE Smart Key',
            fccId: 'KOBJTF10A',
            price: '$55.99',
            rating: '4.6',
            reviews: '4',
            amazonUrl: 'https://www.amazon.com/s?k=KOBJTF10A+jaguar+xe+smart+key',
        },
    ],
    'JEEP': [
        {
            name: 'Jeep Wrangler Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$37.99',
            rating: '4.4',
            reviews: '28',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+jeep+wrangler+smart+key',
        },
        {
            name: 'Jeep Cherokee Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$37.99',
            rating: '4.4',
            reviews: '22',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+jeep+cherokee+smart+key',
        },
        {
            name: 'Jeep Grand Cherokee Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$38.99',
            rating: '4.5',
            reviews: '31',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+jeep+grand+cherokee+smart+key',
        },
        {
            name: 'Jeep Compass Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$36.99',
            rating: '4.3',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+jeep+compass+smart+key',
        },
        {
            name: 'Jeep Renegade Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$36.99',
            rating: '4.3',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+jeep+renegade+smart+key',
        },
        {
            name: 'Jeep Gladiator Fobik Smart Key',
            fccId: 'M3N-40821302',
            price: '$38.99',
            rating: '4.5',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-40821302+jeep+gladiator+smart+key',
        },
    ],
    'KIA': [
        {
            name: 'Kia Forte Smart Key Flip',
            fccId: 'TQ8-FOB-4F08',
            price: '$33.99',
            rating: '4.4',
            reviews: '16',
            amazonUrl: 'https://www.amazon.com/s?k=TQ8-FOB-4F08+kia+forte+smart+key',
        },
        {
            name: 'Kia Optima Smart Key Flip',
            fccId: 'TQ8-FOB-4F08',
            price: '$34.99',
            rating: '4.5',
            reviews: '18',
            amazonUrl: 'https://www.amazon.com/s?k=TQ8-FOB-4F08+kia+optima+smart+key',
        },
        {
            name: 'Kia Sorento Smart Key Flip',
            fccId: 'TQ8-FOB-4F08',
            price: '$35.99',
            rating: '4.5',
            reviews: '20',
            amazonUrl: 'https://www.amazon.com/s?k=TQ8-FOB-4F08+kia+sorento+smart+key',
        },
        {
            name: 'Kia Sportage Smart Key Flip',
            fccId: 'TQ8-FOB-4F08',
            price: '$34.99',
            rating: '4.4',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=TQ8-FOB-4F08+kia+sportage+smart+key',
        },
        {
            name: 'Kia Telluride Smart Key Flip',
            fccId: 'TQ8-FOB-4F08',
            price: '$36.99',
            rating: '4.6',
            reviews: '22',
            amazonUrl: 'https://www.amazon.com/s?k=TQ8-FOB-4F08+kia+telluride+smart+key',
        },
        {
            name: 'Kia Soul Smart Key Flip',
            fccId: 'TQ8-FOB-4F08',
            price: '$33.99',
            rating: '4.3',
            reviews: '13',
            amazonUrl: 'https://www.amazon.com/s?k=TQ8-FOB-4F08+kia+soul+smart+key',
        },
    ],
    'LAND ROVER': [
        {
            name: 'Land Rover Range Rover Smart Key',
            fccId: 'KOBJTF10A',
            price: '$55.99',
            rating: '4.6',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=KOBJTF10A+land+rover+range+rover+smart+key',
        },
        {
            name: 'Land Rover Discovery Smart Key',
            fccId: 'KOBJTF10A',
            price: '$56.99',
            rating: '4.7',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=KOBJTF10A+land+rover+discovery+smart+key',
        },
        {
            name: 'Land Rover Range Rover Sport Smart Key',
            fccId: 'KOBJTF10A',
            price: '$56.99',
            rating: '4.7',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=KOBJTF10A+land+rover+range+rover+sport+smart+key',
        },
        {
            name: 'Land Rover Defender Smart Key',
            fccId: 'KOBJTF10A',
            price: '$57.99',
            rating: '4.8',
            reviews: '5',
            amazonUrl: 'https://www.amazon.com/s?k=KOBJTF10A+land+rover+defender+smart+key',
        },
    ],
    'LEXUS': [
        {
            name: 'Lexus ES Smart Key 2013-2018',
            fccId: 'HYQ14FBA',
            price: '$46.99',
            rating: '4.7',
            reviews: '16',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+lexus+es+smart+key',
        },
        {
            name: 'Lexus RX Smart Key 2016-2022',
            fccId: 'HYQ14FBA',
            price: '$47.99',
            rating: '4.8',
            reviews: '24',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+lexus+rx+smart+key',
        },
        {
            name: 'Lexus IS Smart Key 2014-2020',
            fccId: 'HYQ14FBA',
            price: '$46.99',
            rating: '4.6',
            reviews: '13',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+lexus+is+smart+key',
        },
        {
            name: 'Lexus GX Smart Key 2010-2023',
            fccId: 'HYQ14FBA',
            price: '$48.99',
            rating: '4.7',
            reviews: '19',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+lexus+gx+smart+key',
        },
        {
            name: 'Lexus NX Smart Key 2015-2023',
            fccId: 'HYQ14FBA',
            price: '$47.99',
            rating: '4.7',
            reviews: '15',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+lexus+nx+smart+key',
        },
        {
            name: 'Lexus UX Smart Key 2019-2023',
            fccId: 'HYQ14FBA',
            price: '$46.99',
            rating: '4.6',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+lexus+ux+smart+key',
        },
    ],
    'LINCOLN': [
        {
            name: 'Lincoln MKZ Smart Key',
            fccId: 'M3N-A2C31243800',
            price: '$43.99',
            rating: '4.6',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C31243800+lincoln+mkz+smart+key',
        },
        {
            name: 'Lincoln MKX Smart Key',
            fccId: 'M3N-A2C31243800',
            price: '$44.99',
            rating: '4.6',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C31243800+lincoln+mkx+smart+key',
        },
        {
            name: 'Lincoln Navigator Smart Key',
            fccId: 'M3N-A2C31243800',
            price: '$45.99',
            rating: '4.7',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C31243800+lincoln+navigator+smart+key',
        },
        {
            name: 'Lincoln Continental Smart Key',
            fccId: 'M3N-A2C31243800',
            price: '$44.99',
            rating: '4.6',
            reviews: '5',
            amazonUrl: 'https://www.amazon.com/s?k=M3N-A2C31243800+lincoln+continental+smart+key',
        },
    ],
    'MAZDA': [
        {
            name: 'Mazda CX-5 Smart Key Flip',
            fccId: 'WAZSKE13D01',
            price: '$35.99',
            rating: '4.5',
            reviews: '29',
            amazonUrl: 'https://www.amazon.com/s?k=WAZSKE13D01+mazda+cx5+smart+key',
        },
        {
            name: 'Mazda 6 Smart Key Flip',
            fccId: 'WAZSKE13D01',
            price: '$36.99',
            rating: '4.6',
            reviews: '17',
            amazonUrl: 'https://www.amazon.com/s?k=WAZSKE13D01+mazda+6+smart+key',
        },
        {
            name: 'Mazda CX-9 Smart Key Flip',
            fccId: 'WAZSKE13D01',
            price: '$37.99',
            rating: '4.5',
            reviews: '13',
            amazonUrl: 'https://www.amazon.com/s?k=WAZSKE13D01+mazda+cx9+smart+key',
        },
        {
            name: 'Mazda CX-3 Smart Key Flip',
            fccId: 'WAZSKE13D01',
            price: '$34.99',
            rating: '4.4',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=WAZSKE13D01+mazda+cx3+smart+key',
        },
        {
            name: 'Mazda CX-30 Smart Key Flip',
            fccId: 'WAZSKE13D01',
            price: '$35.99',
            rating: '4.5',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=WAZSKE13D01+mazda+cx30+smart+key',
        },
    ],
    'MERCEDES': [
        {
            name: 'Mercedes C-Class Smart Key',
            fccId: 'IYZ-3317',
            price: '$59.99',
            rating: '4.7',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=IYZ-3317+mercedes+c+class+smart+key',
        },
        {
            name: 'Mercedes E-Class Smart Key',
            fccId: 'IYZ-3317',
            price: '$60.99',
            rating: '4.8',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=IYZ-3317+mercedes+e+class+smart+key',
        },
        {
            name: 'Mercedes GLE Smart Key',
            fccId: 'IYZ-3317',
            price: '$61.99',
            rating: '4.7',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=IYZ-3317+mercedes+gle+smart+key',
        },
        {
            name: 'Mercedes GLC Smart Key',
            fccId: 'IYZ-3317',
            price: '$60.99',
            rating: '4.7',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=IYZ-3317+mercedes+glc+smart+key',
        },
        {
            name: 'Mercedes S-Class Smart Key',
            fccId: 'IYZ-3317',
            price: '$62.99',
            rating: '4.8',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=IYZ-3317+mercedes+s+class+smart+key',
        },
    ],
    'MINI': [
        {
            name: 'MINI Cooper Smart Key',
            fccId: 'NBGIDGNG1',
            price: '$50.99',
            rating: '4.5',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=NBGIDGNG1+mini+cooper+smart+key',
        },
        {
            name: 'MINI Countryman Smart Key',
            fccId: 'NBGIDGNG1',
            price: '$51.99',
            rating: '4.6',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=NBGIDGNG1+mini+countryman+smart+key',
        },
        {
            name: 'MINI Clubman Smart Key',
            fccId: 'NBGIDGNG1',
            price: '$51.99',
            rating: '4.5',
            reviews: '5',
            amazonUrl: 'https://www.amazon.com/s?k=NBGIDGNG1+mini+clubman+smart+key',
        },
    ],
    'MITSUBISHI': [
        {
            name: 'Mitsubishi Lancer Smart Key',
            fccId: 'OUCJ166N',
            price: '$34.99',
            rating: '4.4',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=OUCJ166N+mitsubishi+lancer+smart+key',
        },
        {
            name: 'Mitsubishi Outlander Smart Key',
            fccId: 'OUCJ166N',
            price: '$35.99',
            rating: '4.5',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=OUCJ166N+mitsubishi+outlander+smart+key',
        },
        {
            name: 'Mitsubishi Eclipse Cross Smart Key',
            fccId: 'OUCJ166N',
            price: '$35.99',
            rating: '4.4',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=OUCJ166N+mitsubishi+eclipse+cross+smart+key',
        },
    ],
    'NISSAN': [
        {
            name: 'Nissan Altima I-Key Smart Key',
            fccId: 'CWTWB1U840',
            price: '$39.99',
            rating: '4.5',
            reviews: '26',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1U840+nissan+altima+smart+key',
        },
        {
            name: 'Nissan Maxima I-Key Smart Key',
            fccId: 'CWTWB1U840',
            price: '$40.99',
            rating: '4.6',
            reviews: '18',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1U840+nissan+maxima+smart+key',
        },
        {
            name: 'Nissan Sentra I-Key Smart Key',
            fccId: 'KR55WK48903',
            price: '$38.99',
            rating: '4.4',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK48903+nissan+sentra+smart+key',
        },
        {
            name: 'Nissan Rogue I-Key Smart Key',
            fccId: 'CWTWB1U840',
            price: '$41.99',
            rating: '4.6',
            reviews: '32',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1U840+nissan+rogue+smart+key',
        },
        {
            name: 'Nissan Pathfinder I-Key Smart Key',
            fccId: 'CWTWB1U840',
            price: '$42.99',
            rating: '4.5',
            reviews: '21',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1U840+nissan+pathfinder+smart+key',
        },
        {
            name: 'Nissan Murano I-Key Smart Key',
            fccId: 'CWTWB1U840',
            price: '$41.99',
            rating: '4.5',
            reviews: '17',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1U840+nissan+murano+smart+key',
        },
        {
            name: 'Nissan Frontier I-Key Smart Key',
            fccId: 'CWTWB1U840',
            price: '$40.99',
            rating: '4.4',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1U840+nissan+frontier+smart+key',
        },
        {
            name: 'Nissan Titan I-Key Smart Key',
            fccId: 'CWTWB1U840',
            price: '$43.99',
            rating: '4.6',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=CWTWB1U840+nissan+titan+smart+key',
        },
    ],
    'PORSCHE': [
        {
            name: 'Porsche 911 Smart Key',
            fccId: 'KR55WK50138',
            price: '$65.99',
            rating: '4.7',
            reviews: '4',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK50138+porsche+911+smart+key',
        },
        {
            name: 'Porsche Cayenne Smart Key',
            fccId: 'KR55WK50138',
            price: '$66.99',
            rating: '4.8',
            reviews: '5',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK50138+porsche+cayenne+smart+key',
        },
        {
            name: 'Porsche Macan Smart Key',
            fccId: 'KR55WK50138',
            price: '$65.99',
            rating: '4.7',
            reviews: '3',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK50138+porsche+macan+smart+key',
        },
    ],
    'RAM': [
        {
            name: 'Ram 1500 Fobik Smart Key',
            fccId: 'GQ4-76T',
            price: '$38.99',
            rating: '4.5',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=GQ4-76T+ram+1500+smart+key',
        },
        {
            name: 'Ram 2500 Fobik Smart Key',
            fccId: 'GQ4-76T',
            price: '$39.99',
            rating: '4.5',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=GQ4-76T+ram+2500+smart+key',
        },
        {
            name: 'Ram 3500 Fobik Smart Key',
            fccId: 'GQ4-76T',
            price: '$40.99',
            rating: '4.6',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=GQ4-76T+ram+3500+smart+key',
        },
        {
            name: 'Ram ProMaster Fobik Smart Key',
            fccId: 'GQ4-76T',
            price: '$38.99',
            rating: '4.4',
            reviews: '6',
            amazonUrl: 'https://www.amazon.com/s?k=GQ4-76T+ram+promaster+smart+key',
        },
    ],
    'SUBARU': [
        {
            name: 'Subaru Impreza Smart Key Flip',
            fccId: 'HYQ14AHC',
            price: '$36.99',
            rating: '4.5',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14AHC+subaru+impreza+smart+key',
        },
        {
            name: 'Subaru Outback Smart Key Flip',
            fccId: 'HYQ14AHC',
            price: '$37.99',
            rating: '4.6',
            reviews: '25',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14AHC+subaru+outback+smart+key',
        },
        {
            name: 'Subaru Forester Smart Key Flip',
            fccId: 'HYQ14AHC',
            price: '$37.99',
            rating: '4.6',
            reviews: '19',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14AHC+subaru+forester+smart+key',
        },
        {
            name: 'Subaru Legacy Smart Key Flip',
            fccId: 'HYQ14AHC',
            price: '$36.99',
            rating: '4.5',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14AHC+subaru+legacy+smart+key',
        },
        {
            name: 'Subaru Ascent Smart Key Flip',
            fccId: 'HYQ14AHC',
            price: '$38.99',
            rating: '4.6',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14AHC+subaru+ascent+smart+key',
        },
    ],
    'TOYOTA': [
        {
            name: 'Toyota Camry Smart Key G-Chip 2012-2017',
            fccId: 'HYQ14FBA',
            price: '$42.99',
            rating: '4.7',
            reviews: '45',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+camry+smart+key',
        },
        {
            name: 'Toyota Corolla Smart Key 2014-2019',
            fccId: 'HYQ14FBA',
            price: '$41.99',
            rating: '4.6',
            reviews: '38',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+corolla+smart+key',
        },
        {
            name: 'Toyota RAV4 Smart Key 2013-2018',
            fccId: 'HYQ14FBA',
            price: '$43.99',
            rating: '4.7',
            reviews: '52',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+rav4+smart+key',
        },
        {
            name: 'Toyota Highlander Smart Key 2014-2019',
            fccId: 'HYQ14FBA',
            price: '$44.99',
            rating: '4.7',
            reviews: '29',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+highlander+smart+key',
        },
        {
            name: 'Toyota 4Runner Smart Key 2010-2019',
            fccId: 'HYQ14FBA',
            price: '$45.99',
            rating: '4.8',
            reviews: '34',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+4runner+smart+key',
        },
        {
            name: 'Toyota Tundra Smart Key 2014-2021',
            fccId: 'HYQ14FBA',
            price: '$46.99',
            rating: '4.7',
            reviews: '27',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+tundra+smart+key',
        },
        {
            name: 'Toyota Tacoma Smart Key 2016-2023',
            fccId: 'HYQ14FBA',
            price: '$45.99',
            rating: '4.8',
            reviews: '41',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+tacoma+smart+key',
        },
        {
            name: 'Toyota Sienna Smart Key 2011-2020',
            fccId: 'HYQ14FBA',
            price: '$44.99',
            rating: '4.6',
            reviews: '22',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+sienna+smart+key',
        },
        {
            name: 'Toyota Prius Smart Key 2010-2015',
            fccId: 'HYQ12BDP',
            price: '$41.99',
            rating: '4.5',
            reviews: '19',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ12BDP+toyota+prius+smart+key',
        },
        {
            name: 'Toyota Avalon Smart Key 2013-2022',
            fccId: 'HYQ14FBA',
            price: '$45.99',
            rating: '4.7',
            reviews: '16',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+avalon+smart+key',
        },
        {
            name: 'Toyota Sequoia Smart Key 2008-2022',
            fccId: 'HYQ14FBA',
            price: '$46.99',
            rating: '4.6',
            reviews: '13',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+sequoia+smart+key',
        },
        {
            name: 'Toyota Land Cruiser Smart Key 2008-2021',
            fccId: 'HYQ14FBA',
            price: '$47.99',
            rating: '4.8',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=HYQ14FBA+toyota+land+cruiser+smart+key',
        },
    ],
    'VOLKSWAGEN': [
        {
            name: 'VW Jetta Smart Key KESSY',
            fccId: 'NBGFS12P71',
            price: '$47.99',
            rating: '4.6',
            reviews: '14',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS12P71+volkswagen+jetta+smart+key',
        },
        {
            name: 'VW Passat Smart Key KESSY',
            fccId: 'NBGFS12P71',
            price: '$48.99',
            rating: '4.7',
            reviews: '10',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS12P71+volkswagen+passat+smart+key',
        },
        {
            name: 'VW Tiguan Smart Key KESSY',
            fccId: 'NBGFS12P71',
            price: '$49.99',
            rating: '4.6',
            reviews: '12',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS12P71+volkswagen+tiguan+smart+key',
        },
        {
            name: 'VW Atlas Smart Key KESSY',
            fccId: 'NBGFS12P71',
            price: '$50.99',
            rating: '4.7',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS12P71+volkswagen+atlas+smart+key',
        },
        {
            name: 'VW Golf Smart Key KESSY',
            fccId: 'NBGFS12P71',
            price: '$47.99',
            rating: '4.5',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=NBGFS12P71+volkswagen+golf+smart+key',
        },
    ],
    'VOLVO': [
        {
            name: 'Volvo S60 Smart Key',
            fccId: 'KR55WK49264',
            price: '$51.99',
            rating: '4.6',
            reviews: '7',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49264+volvo+s60+smart+key',
        },
        {
            name: 'Volvo XC90 Smart Key',
            fccId: 'KR55WK49264',
            price: '$52.99',
            rating: '4.7',
            reviews: '9',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49264+volvo+xc90+smart+key',
        },
        {
            name: 'Volvo XC60 Smart Key',
            fccId: 'KR55WK49264',
            price: '$52.99',
            rating: '4.6',
            reviews: '11',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49264+volvo+xc60+smart+key',
        },
        {
            name: 'Volvo XC40 Smart Key',
            fccId: 'KR55WK49264',
            price: '$51.99',
            rating: '4.5',
            reviews: '8',
            amazonUrl: 'https://www.amazon.com/s?k=KR55WK49264+volvo+xc40+smart+key',
        },
    ],
};

        // ============================================================================
        // LOCKSMITH DATABASE
        // Comprehensive vehicle key specifications
        // ============================================================================
        const LOCKSMITH_DB = {
            'ACURA': {
                blank: 'HD106 / HO01',
                chip: 'Philips 46 (Hitag 2)',
                freq: '313.8 MHz',
                series: 'X001-X999',
                fccId: 'OUCG8D-380H-A',
                keyType: 'Proximity Smart Key',
                emergencyKey: 'HO01',
                cloning: 'Not Possible',
                obd: 'Yes (with PIN)',
                immoSystem: 'Honda/Acura G-Chip',
                pinRequired: 'Yes - Dealer Required',
                maxKeys: '8 Keys',
                progTool: 'Autel / IM608',
                oemRemote: '72147-TX4-A11',
                aftermarket: 'ILCO HON-KIK',
                shell: 'ACU-SHELL-4B',
                // Enhanced Data from Report
                crossRef: { ilco: 'HO01-PT', strattec: 'N/A', jma: 'HOND-31', keydiy: 'B10-3' },
                transponderInfo: { id: 'ID46', tech: 'Philips Crypto 2', bits: '46-bit', clonable: false },
                cutType: 'High Security / Sidewinder',
                machineRequired: 'Laser/Vertical Mill (Sidewinder)',
                bittingInfo: { depths: 4, positions: 8, spacing: '0.187"', macs: 3 },
                eepromData: { module: 'PCM/BCM', chip: '93C56', location: 'Under dash, behind glove box' },
                pinSource: 'Honda Dealer Portal / Autel IMMO (Paid subscription)',
                obdLocation: 'Under dash, left of steering column',
                programmingNotes: 'All keys lost requires PIN from dealer. Add key mode requires 2 working keys.',
                yearRange: '2004-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/acura',
                vvdiGuide: 'https://blog.uobdii.com/vvdi-key-tool-plus-add-key-for-honda-acura/',
                allKeysLost: 'Read EEPROM from BCM/PCM or obtain PIN from dealer. Use Autel G-Box for PIN calculation.',
                keyBlanks: [
                    { type: 'DEALER', part: '72147-TX4-A11', desc: 'Smart Key Prox 4 Btn', fcc: 'OUCG8D-380H-A', freq: '313.8 MHz' },
                    { type: 'ILCO', part: 'PRX-HON-4B1', desc: 'Prox 4 Btn', fcc: 'OUCG8D-380H-A', freq: '313.8 MHz' },
                    { type: 'KEYDIY', part: 'B10-3+1', desc: 'Universal Remote', fcc: 'N/A', freq: '313.8 MHz' }
                ],
                testKey: 'HO01 TEST KEY',
                codeSeries: 'K001-N718 (Honda Series)',
                decoderTools: ['Lishi HO01', 'Lishi HON66', 'Determinator']
            },
            'AUDI': {
                blank: 'HU66 / HU162T',
                chip: 'Megamos Crypto 48 / MQB (AES-128)',
                freq: '315/433 MHz',
                series: 'HU66 Series',
                fccId: 'NBGFS14P71',
                keyType: 'Proximity Smart Key / KESSY',
                emergencyKey: 'HU66',
                cloning: 'ID48: Possible | MQB: Not Possible',
                obd: 'IMMO 4: Yes | MQB: Component Security Required',
                immoSystem: 'Audi IMMO 4/5 / MQB Platform',
                pinRequired: 'Component Security (CS) for MQB',
                maxKeys: '8 Keys',
                progTool: 'VVDI / Autel / ODIS',
                oemRemote: '8S0-959-754-FJ',
                aftermarket: 'KEYDIY B34',
                shell: 'AUD-SHELL-3B',
                // Enhanced Data
                crossRef: { ilco: 'HU66-PT / HU162T-PT', strattec: 'N/A', jma: 'AU-HAA / AU-HU162T', keydiy: 'B34' },
                transponderInfo: { id: 'ID48 / MQB', tech: 'Megamos Crypto / AES-128', bits: '48/128-bit', clonable: 'ID48 Only' },
                cutType: 'High Security / Profile Cut',
                machineRequired: 'Laser/Sidewinder (Condor, Ninja)',
                bittingInfo: { depths: 6, positions: 8, spacing: '0.175"', macs: 6 },
                eepromData: { module: 'BCM2/Kessy', chip: 'NEC/Renesas', location: 'Behind glove box or center console' },
                pinSource: 'Component Security via ODIS or Key Programmer',
                obdLocation: 'Under dash, driver side footwell',
                programmingNotes: 'IMMO 4 (Pre-2012): OBD OK. MQB (2012+): Requires Component Security unlock.',
                yearRange: '1997-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/audi',
                vvdiGuide: 'https://blog.uobdii.com/vvdi-audi-key-programming/',
                odisGuide: 'https://www.audi.com/dealer-support/odis',
                allKeysLost: 'Read BCM2 EEPROM for ID48. MQB: Component Security unlock required via VVDI/Autel.',
                immoGenerations: 'IMMO 3 (1997-2005), IMMO 4 (2006-2012), MQB (2012+)',
                keyBlanks: [
                    { type: 'DEALER', part: '8S0-959-754-FJ', desc: 'Smart Key 4 Btn', fcc: 'NBGFS14P71', freq: '433 MHz' },
                    { type: 'DEALER', part: '8V0-959-754', desc: 'Flip Key 3 Btn', fcc: 'NBGFS12A71', freq: '433 MHz' },
                    { type: 'ILCO', part: 'AUD-SMART-4B', desc: 'Smart Key', fcc: 'NBGFS14P71', freq: '433 MHz' },
                    { type: 'KEYDIY', part: 'B34', desc: 'Universal MQB Style', fcc: 'N/A', freq: '433 MHz' }
                ],
                testKey: 'HU66 / HU162T TEST KEY',
                codeSeries: 'VW/Audi HU66 Series',
                decoderTools: ['Lishi HU66', 'Lishi HU162T', 'Turbo Decoder', '2-in-1 Pick']
            },
            'BMW': {
                blank: 'HU92 / HU100R',
                chip: 'PCF7945 / Hitag Pro / ID49',
                freq: '315/433/868 MHz',
                series: 'BH00001-BH24530',
                fccId: 'YGOHUF5662',
                keyType: 'CAS/FEM/BDC Smart Key',
                emergencyKey: 'HU92R',
                cloning: 'EWS: Yes | CAS1-3: Yes | CAS4/FEM: Not Possible',
                obd: 'EWS/CAS1-3: Yes | CAS4/FEM: Bench Required',
                immoSystem: 'BMW EWS/CAS/FEM/BDC',
                pinRequired: 'ISN Code Required',
                maxKeys: '10 Keys',
                progTool: 'Autel IM608 Pro / CGDI BMW / Yanhua ACDP',
                oemRemote: '66-12-9-316-125',
                aftermarket: 'KEYDIY ZB02',
                shell: 'BMW-SHELL-4B',
                // Enhanced Data
                crossRef: { ilco: 'HU92-PT / HU100R-PT', strattec: 'N/A', jma: 'BMW-20 / BMW-22', keydiy: 'ZB02' },
                transponderInfo: { id: 'ID44 / ID46 / ID49', tech: 'PCF7935 / PCF7945 / Hitag Pro', bits: 'Variable', clonable: 'EWS/CAS1-3 Only' },
                cutType: 'High Security / Track Cut',
                machineRequired: 'Laser/Sidewinder (HU92/HU100R capable)',
                bittingInfo: { depths: 4, positions: 8, spacing: '0.200"', macs: 3 },
                eepromData: { 
                    ews: '93C46 / 93C66', 
                    cas1: '0L01Y', 
                    cas2: '1L15Y', 
                    cas3: '2L15Y / 0L15Y', 
                    cas4: '1N35H / 5M48H',
                    fem: 'S12XEP100',
                    bdc: '9S12XEQ512'
                },
                pinSource: 'Read ISN from CAS/DME via OBD or EEPROM dump',
                obdLocation: 'OBD Port: Under dash, left side near hood release',
                programmingNotes: 'EWS: OBD. CAS1-3: OBD with ISN. CAS4: Bench work for ISN. FEM/BDC: Bench only.',
                yearRange: '1995-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/bmw',
                cgdiGuide: 'https://www.cgdishop.com/wholesale/cgdi-prog-bmw-msv80-key-programmer.html',
                yanuhaGuide: 'https://www.yanaboron.com/product/yanhua-acdp-bmw-package/',
                keyProgram: 'EWS: Read EWS > Generate Key. CAS: Read ISN > Write Key. FEM: Bench > Read > Write.',
                allKeysLost: 'EWS: Clone from EEPROM. CAS: Read ISN from CAS EEPROM or DME. FEM: Bench mode required.',
                casVersions: 'EWS (E36/46), CAS1 (E60/65), CAS2 (E70/90), CAS3 (E89/92), CAS3+ (E70LCI), CAS4 (F01+), FEM/BDC (F/G series)',
                keyBlanks: [
                    { type: 'DEALER', part: '66-12-9-316-125', desc: 'Smart Key 4 Btn CAS3+', fcc: 'YGOHUF5662', freq: '315 MHz' },
                    { type: 'DEALER', part: '66-12-9-259-716', desc: 'Diamond Key E-Series', fcc: 'KR55WK49127', freq: '315 MHz' },
                    { type: 'DEALER', part: '66-12-8-723-580', desc: 'FEM/BDC Smart Key', fcc: 'NBGIDGNG1', freq: '434 MHz' },
                    { type: 'ILCO', part: 'HU92-PT', desc: 'Transponder Key', fcc: 'N/A', freq: 'N/A' },
                    { type: 'KEYDIY', part: 'ZB02-4', desc: 'Universal Smart', fcc: 'N/A', freq: '315/433 MHz' }
                ],
                testKey: 'HU92 / HU100R TEST KEY',
                codeSeries: 'BH00001-BH24530',
                decoderTools: ['Lishi HU92', 'Lishi HU100R', 'Turbo Decoder HU92', '2-in-1 BMW'],
                ewsInfo: 'EWS2 (1995-1998), EWS3 (1999-2005), EWS4 (Mini)'
            },
            'BUICK': {
                blank: 'B111 / HU100',
                chip: 'Philips 46 (Hitag 2)',
                freq: '315 MHz',
                series: 'Z0001-Z5000',
                fccId: 'OUC6000066',
                keyType: 'Flip Key / PEPS',
                emergencyKey: 'HU100',
                cloning: 'Possible',
                obd: 'Yes',
                immoSystem: 'GM PK3+ / PEPS',
                pinRequired: 'No - Add Key Mode',
                maxKeys: '8 Keys',
                progTool: 'Autel / Smart Pro',
                oemRemote: '13508769',
                aftermarket: 'ILCO FLIP-GM-4B',
                shell: 'GM-SHELL-5B'
            },
            'CADILLAC': {
                blank: 'B111 / HU100',
                chip: 'Hitag 2 Extended',
                freq: '315 MHz',
                series: 'Z0001-Z6000',
                fccId: 'HYQ2EB',
                keyType: 'PEPS Smart Key',
                emergencyKey: 'HU100',
                cloning: 'Not Possible',
                obd: 'Yes (GM TIS)',
                immoSystem: 'GM PEPS 2.0',
                pinRequired: 'Security Access',
                maxKeys: '8 Keys',
                progTool: 'Autel / AC Delco',
                oemRemote: '13580811',
                aftermarket: 'KEYDIY B07-4',
                shell: 'CAD-SHELL-5B'
            },
            'CHEVROLET': {
                blank: 'B111 / HU100 / B106',
                chip: 'Philips 46 (Circle Plus) / Hitag 2 / VATS Resistor',
                freq: '315 MHz',
                series: 'Z0001-Z6000 / B0001-B4000',
                fccId: 'M3N-32337100 / HYQ1AA',
                keyType: 'Flip Key / PEPS Smart Key / VATS (older)',
                emergencyKey: 'HU100 / B111',
                cloning: 'PK3: Possible | PEPS: Not Possible',
                obd: 'Yes - Add Key Mode / 2-Key Learning',
                immoSystem: 'GM VATS / Passlock / PK3 / PK3+ / PK3++ / PEPS',
                pinRequired: 'No - 2 Key Learning / Add Key Mode available',
                maxKeys: '10 Keys',
                progTool: 'Autel IM608 / Smart Pro / Xhorse / Tech2 / AC Delco TDS',
                oemRemote: '13529065',
                aftermarket: 'ILCO FLIP-GM-3B',
                shell: 'GM-SHELL-4B',
                // Enhanced Data with GM System History
                crossRef: { ilco: 'B111-PT / HU100-PT / B106-PT', strattec: '5913598 / 5912543 / 692931', jma: 'GM-38 / GM-39 / GM-37', keydiy: 'B22-4' },
                transponderInfo: { id: 'ID46 / ID46E', tech: 'Philips Crypto 2 (Circle Plus)', bits: '46-bit', clonable: 'PK3/PK3+ Yes' },
                cutType: 'Edge Cut (B111) / High Security Sidewinder (HU100/B106)',
                machineRequired: 'Standard (B111) / Laser/Vertical Mill (HU100)',
                bittingInfo: { depths: [4, 5], positions: 10, spacing: '0.1875"', macs: 4 },
                eepromData: { 
                    bcm: 'HC9S12 / 68HC912 / MC9S12XEQ384',
                    icm: '24C02',
                    module: 'BCM (Body Control Module)',
                    location: 'Under dash, left side near fuse box'
                },
                // GM SYSTEM HISTORY
                gmSystems: {
                    vats: { years: '1986-2005', desc: 'Vehicle Anti-Theft System - Resistor pellet in key blade (15 values)', resistorKeys: true },
                    passlock1: { years: '1996-2005', desc: 'Passlock I - Resistance in cylinder (no chip in key)', chipInKey: false },
                    passlock2: { years: '2002-2008', desc: 'Passlock II - Improved cylinder resistance', chipInKey: false },
                    pk3: { years: '2004-2010', desc: 'PK3 (Passkey 3) - Transponder in key, stamped PK3', chipInKey: true },
                    pk3plus: { years: '2006-2016', desc: 'PK3+ - Enhanced crypto, stamped PK3+', chipInKey: true },
                    peps: { years: '2010-Present', desc: 'PEPS - Push button start, proximity sensing', chipInKey: false }
                },
                vatsInfo: 'VATS uses 15 resistor values (0.402 - 11.800 kOhms). Test with multimeter before cutting.',
                keyBlanks: [
                    { type: 'DEALER', part: '13529065', desc: 'Flip Key 4 Btn PK3+', fcc: 'OHT01060512', freq: '315 MHz' },
                    { type: 'DEALER', part: '13577771', desc: 'PEPS Smart Key 5 Btn', fcc: 'HYQ1AA', freq: '315 MHz' },
                    { type: 'DEALER', part: '22881480', desc: 'Flip Key 3 Btn', fcc: 'OHT01060512', freq: '315 MHz' },
                    { type: 'DEALER', part: '5912543', desc: 'HU100 Flip Key', fcc: 'OHT01060512', freq: '315 MHz' },
                    { type: 'STRATTEC', part: '692931', desc: 'B106 Z-Keyway Flip', fcc: 'OHT01060512', freq: '315 MHz' },
                    { type: 'ILCO', part: 'FLIP-GM-4B3HS', desc: 'Flip Key 4 Btn', fcc: 'M3N-32337100', freq: '315 MHz' },
                    { type: 'ILCO', part: 'PRX-GM-5B1', desc: 'PEPS 5 Btn', fcc: 'HYQ1AA', freq: '315 MHz' },
                    { type: 'ILCO', part: 'B111-PT', desc: 'Circle Plus Transponder', fcc: 'N/A', freq: 'N/A' },
                    { type: 'KEYDIY', part: 'B22-4+1', desc: 'Universal GM', fcc: 'N/A', freq: '315 MHz' }
                ],
                testKey: 'B111 / B106 / HU100 TEST KEY',
                codeSeries: 'Z0001-Z6000 (Z-Keyway) / B0001-B4000 (B-Series)',
                decoderTools: ['Lishi HU100', 'Lishi GM100', 'Determinator GM Z-Keyway', 'Code Machine'],
                pinSource: 'Not required - 2 Key Learning via OBD or Tech2/AC Delco TDS',
                obdLocation: 'Under dash, left of steering column',
                programmingNotes: 'PK3/PK3+: 2-Key Learning available. PEPS: Requires diagnostic tool. VATS: Match resistor value.',
                yearRange: '1986-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/gm',
                vvdiGuide: 'https://blog.uobdii.com/vvdi-key-tool-plus-gm-chevrolet/',
                smartProGuide: 'https://www.adp.com/training/gm',
                selfProgram: '2-Key Learning (PK3/PK3+): Key1 ON 10s > OFF > Key2 ON 10s > OFF > New Key ON 10s > Wait for security light',
                allKeysLost: 'PK3/PK3+: Read BCM EEPROM (HC9S12). PEPS: Use diagnostic tool AKL function. VATS: Bypass or match resistor.',
                passlocBypass: 'Passlock bypass: 10-minute relearn or bypass module installation'
            },
            'CHRYSLER': {
                blank: 'Y157 / Y159 / Y164 / Y166',
                chip: 'Hitag AES (4A) / Hitag 128-bit',
                freq: '433.92 MHz',
                series: 'M001-2618',
                fccId: 'M3N-40821302 / GQ4-76T',
                keyType: 'Fobik / Prox Smart Key',
                emergencyKey: 'Y164 / Y166',
                cloning: 'Not Possible (AES)',
                obd: 'Yes (wiTECH / Autel)',
                immoSystem: 'Chrysler AES / Secured Gateway',
                pinRequired: 'PIN from wiTECH or SGW Bypass',
                maxKeys: '8 Keys',
                progTool: 'Autel IM608 Pro / wiTECH 2.0 / Smart Pro',
                oemRemote: '68394195AA',
                aftermarket: 'KEYDIY B35',
                shell: 'CHY-FOBIK-5B',
                keyBlanks: [
                    { type: 'DEALER', part: '68394195AA', desc: 'Prox Fob, 5 Btn w/Rmt Start', fcc: 'M3N40821302', freq: '433.92 MHz' },
                    { type: 'DEALER', part: '68217974AB', desc: 'Prox Fob, 4 Btn', fcc: 'M3N40821302', freq: '433.92 MHz' },
                    { type: 'ILCO', part: 'PRX-CHRY-5B5', desc: 'Prox Remote 5 Btn', fcc: 'M3N40821302', freq: '433 MHz' },
                    { type: 'ILCO', part: 'PRX-CHRY-4B6', desc: 'Prox Remote 4 Btn', fcc: 'M3N40821302', freq: '433 MHz' }
                ],
                testKey: 'Y157 / Y159 / Y166 TEST KEY',
                codeSeries: 'M001-2618',
                decoderTools: ['Determinator', 'CHR2', 'Lishi CHY3'],
                pinSource: 'wiTECH 2.0 / Autel IM608 Pro',
                obdLocation: 'Under dash, left of steering column',
                programmingNotes: '2018+: SGW bypass required. Older: Direct OBD OK.',
                yearRange: '2004-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/chrysler-dodge',
                sgwBypass: 'APB112 or equivalent required for 2018+',
                allKeysLost: 'Read PIN from ORVR module EEPROM or use wiTECH with subscription'
            },
            'DODGE': {
                blank: 'Y157 / Y159 / Y164',
                chip: 'Hitag AES (4A) / Hitag 128-bit',
                freq: '433.92 MHz',
                series: 'M001-2618',
                fccId: 'M3N40821302 / GQ4-54T',
                keyType: 'Fobik / Prox Smart Key',
                emergencyKey: 'Y164',
                cloning: 'Not Possible (AES)',
                obd: 'Yes (wiTECH / Autel)',
                immoSystem: 'Chrysler AES / Secured Gateway',
                pinRequired: 'PIN from wiTECH or Security Gateway Bypass',
                maxKeys: '8 Keys',
                progTool: 'Autel IM608 Pro / wiTECH 2.0 / Smart Pro',
                oemRemote: '68066350AJ',
                aftermarket: 'KEYDIY B35',
                shell: 'DOD-FOBIK-4B',
                // Detailed Key Blanks (like screenshot)
                keyBlanks: [
                    { type: 'DEALER', part: '05026676AH', desc: 'Prox Fob, 5 Btn w/Rmt Start', fcc: 'M3N40821302', freq: '433.90 MHz' },
                    { type: 'DEALER', part: '68051387AH', desc: 'Prox Fob, 4 Btn', fcc: 'M3N40821302', freq: '433.90 MHz' },
                    { type: 'ILCO', part: 'PRX-CHRY-3B4', desc: 'Prox Remote', fcc: 'M3N40821302', freq: '433 MHz' },
                    { type: 'ILCO', part: 'PRX-CHRY-4B6', desc: 'Prox Remote', fcc: 'M3N40821302', freq: '433 MHz' },
                    { type: 'ILCO', part: 'PRX-CHRY-5B5', desc: 'Prox Remote', fcc: 'M3N40821302', freq: '433 MHz' }
                ],
                testKey: 'Y157 / Y159 TEST KEY',
                codeSeries: 'M001-2618',
                decoderTools: ['Determinator', 'CHR2', 'Lishi CHY3'],
                pinSource: 'wiTECH 2.0 / Autel IM608 with SGW Bypass',
                obdLocation: 'Under dash, left of steering column',
                programmingNotes: '2018+: Requires Security Gateway (SGW) bypass adapter. Pre-2018: Direct OBD.',
                yearRange: '2008-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/chrysler-dodge',
                witechInfo: 'wiTECH 2.0 subscription required for dealer-level access',
                sgwBypass: 'Autel APB112 or THINKDIAG SGW bypass required for 2018+',
                allKeysLost: 'Use Autel IM608 Pro with SGW bypass. Read PIN from ORVR module or use wiTECH.',
                eepromData: 'RFH Module: 9S12XEQ512 / ORVR: 93C86'
            },
            'FORD': {
                blank: 'H72 / H75 / H92 / H94 / HU101',
                chip: 'Texas 4C / 4D-60 / 4D-63 (40-bit) / 4D-63 (80-bit) / Hitag Pro',
                freq: '315 MHz',
                series: '0001X-1706X / 1001X-1706X',
                fccId: 'M3N-A2C93142600 / M3N-A2C31243300 / CWTWB1U793',
                keyType: 'PATS Transponder / Flip Key / Smart Key (I-Key)',
                emergencyKey: 'H94 / HU101',
                cloning: '4C/4D-40: Yes | 4D-80: Yes | Hitag Pro: No',
                obd: 'PATS 1-3: Yes | PATS 4+: With security access',
                immoSystem: 'Ford PATS (Passive Anti-Theft System)',
                pinRequired: 'PATS Code for AKL (usually free via Autel)',
                maxKeys: '8 Keys',
                progTool: 'Autel IM608 / Smart Pro / Xhorse VVDI / IDS/FDRS',
                oemRemote: '164-R8134',
                aftermarket: 'ILCO FLIP-FORD-4B',
                shell: 'FORD-SHELL-4B',
                // Comprehensive PATS Data
                crossRef: { 
                    ilco: 'H72-PT / H75-PT / H92-PT / H94-PT / HU101-PT', 
                    strattec: '597602 / 597608 / 5913441 / 5913442 / 164-R8091', 
                    jma: 'FO-15D / FO-15DP / FO-21DP / FO-22DP / FO-24DP', 
                    keydiy: 'B12-3 / B21-4' 
                },
                transponderInfo: { 
                    id: '4C / 4D-60 / 4D-63 (40/80) / Hitag Pro', 
                    tech: 'Texas Instruments Crypto', 
                    bits: '40/80/128-bit', 
                    clonable: '4D-40/80 Yes' 
                },
                cutType: 'Edge Cut (H72/H75) / High Security Sidewinder (HU101)',
                machineRequired: 'Standard (H72/H75) / Laser/Vertical Mill (HU101)',
                bittingInfo: { depths: 5, positions: 10, spacing: '0.150"', macs: 4, notes: '8 cuts used in ignition' },
                eepromData: { 
                    pcm: 'MC9S12 / MC9S12XEQ512',
                    ipc: '93C86 / 95128',
                    bcm: 'MC9S12XEP100',
                    module: 'PCM (Powertrain Control Module)',
                    location: 'Engine bay or behind firewall'
                },
                // PATS SYSTEM HISTORY
                patsSystems: {
                    pats1: { years: '1996-1998', chip: '4C (Fixed)', desc: 'First gen - 4C transponder', twoKeyLearn: true },
                    pats2: { years: '1999-2002', chip: '4D-60', desc: 'Second gen - 40-bit crypto', twoKeyLearn: true },
                    pats3: { years: '2003-2005', chip: '4D-63 (40-bit)', desc: 'Third gen - improved 40-bit', twoKeyLearn: true },
                    pats4: { years: '2005-2010', chip: '4D-63 (80-bit)', desc: 'Fourth gen - 80-bit crypto', twoKeyLearn: true },
                    pats5: { years: '2011-2017', chip: '4D-63 (80-bit)', desc: 'Fifth gen - enhanced security', twoKeyLearn: true },
                    pats6: { years: '2015+', chip: 'Hitag Pro / ID49', desc: 'Latest gen - AES encryption', twoKeyLearn: false }
                },
                keyBlanks: [
                    { type: 'DEALER', part: '164-R8134', desc: 'Smart Key 5 Btn', fcc: 'M3N-A2C93142600', freq: '315 MHz' },
                    { type: 'DEALER', part: '164-R8091', desc: 'Flip Key HU101 4 Btn', fcc: 'N5F-A08TAA', freq: '315 MHz' },
                    { type: 'DEALER', part: '5913441', desc: 'H92 Transponder Key', fcc: 'N/A', freq: 'N/A' },
                    { type: 'DEALER', part: '164-R8048', desc: 'Remote Head Key 4 Btn', fcc: 'CWTWB1U793', freq: '315 MHz' },
                    { type: 'STRATTEC', part: '597602', desc: 'H72 8-Cut Key', fcc: 'N/A', freq: 'N/A' },
                    { type: 'STRATTEC', part: '5924628', desc: 'H94 Key Blade', fcc: 'N/A', freq: 'N/A' },
                    { type: 'ILCO', part: 'H72-PT', desc: '8-Cut Transponder', fcc: 'N/A', freq: 'N/A' },
                    { type: 'ILCO', part: 'H92-PT', desc: '80-Bit Transponder', fcc: 'N/A', freq: 'N/A' },
                    { type: 'ILCO', part: 'FLIP-FORD-4B', desc: 'Flip Key 4 Btn', fcc: 'CWTWB1U793', freq: '315 MHz' },
                    { type: 'KEYDIY', part: 'B12-3+1', desc: 'Universal Ford', fcc: 'N/A', freq: '315 MHz' },
                    { type: 'KEYDIY', part: 'B21-4', desc: 'Ford HU101 Style', fcc: 'N/A', freq: '315 MHz' }
                ],
                testKey: 'H72 / H75 / H92 / H94 / HU101 TEST KEY',
                codeSeries: '0001X-1706X (Ford 8-Cut) / 1001X-1706X (H-Series)',
                decoderTools: ['Lishi HU101', 'Lishi FO38', 'Lishi H75', 'Determinator Ford', 'InstaCode Ford'],
                pinSource: 'Ford OASIS (Dealer) / Autel IMMO (Often Free) / NASTF Access',
                obdLocation: 'Under dash, driver side near hood release lever',
                programmingNotes: 'PATS 1-5: 2-Key Learning works (Key1 ON-OFF, Key2 ON-OFF, New Key ON). PATS 6+: Tool required.',
                yearRange: '1996-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/ford',
                vvdiGuide: 'https://blog.uobdii.com/vvdi-key-tool-plus-ford-all-keys-lost/',
                smartProGuide: 'https://www.adp.com/training/ford',
                oasisInfo: 'Ford OASIS requires dealer login or NASTF VSP credentials',
                keyProgram: 'OBD: Ford > IMMO > PATS > Program Additional Key OR 2-Key Learning',
                selfProgram: '2-Key Learning (1996-2017): Key1 ON-OFF, Key2 ON-OFF within 10 sec, New Key ON within 20 sec, wait for light',
                allKeysLost: 'PATS 1-4: Read PIN from PCM EEPROM. PATS 5-6: Use Autel AKL function or Ford OASIS.',
                patsMinuteProcedure: '10-minute security bypass may be required after BCM replacement',
                obpRequirement: 'OBP (On-Board Programming) requires 2 working keys for most PATS vehicles'
            },
            'GMC': {
                blank: 'B111 / HU100',
                chip: 'Philips 46 (Circle Plus)',
                freq: '315 MHz',
                series: 'Z0001-Z6000',
                fccId: 'HYQ1AA',
                keyType: 'Flip Key / PEPS',
                emergencyKey: 'HU100',
                cloning: 'Possible',
                obd: 'Yes',
                immoSystem: 'GM PK3+ / PEPS',
                pinRequired: 'No - Add Key Mode',
                maxKeys: '10 Keys',
                progTool: 'Autel / Smart Pro',
                oemRemote: '13580081',
                aftermarket: 'KEYDIY B22-4',
                shell: 'GM-SHELL-5B'
            },
            'HONDA': {
                blank: 'HO03 / HO01',
                chip: 'Philips 46 (Hitag 2) / Hitag 3',
                freq: '313.8 MHz',
                series: 'K001-N718',
                fccId: 'KR55WK49303',
                keyType: 'Proximity Smart Key',
                emergencyKey: 'HO01',
                cloning: 'Not Possible',
                obd: 'Yes (with PIN)',
                immoSystem: 'Honda G-Chip System',
                pinRequired: 'Yes - From Honda Dealer',
                maxKeys: '8 Keys',
                progTool: 'Autel IM608 / Smart Pro / VVDI',
                oemRemote: '72147-TBA-A11',
                aftermarket: 'ILCO HO-KIK',
                shell: 'HON-SHELL-4B',
                // Enhanced Data
                pinSource: 'Honda Dealer Portal / Autel IMMO (Paid)',
                obdLocation: 'Under dash, left of steering column',
                programmingNotes: 'All keys lost requires PIN. Add key mode: 2 working keys needed.',
                yearRange: '2012-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/honda',
                vvdiGuide: 'https://blog.uobdii.com/vvdi-key-tool-plus-add-key-for-honda/',
                smartProGuide: 'https://www.adp.com/training/honda',
                eepromData: 'PCM 93C56 / BCM SPC56',
                keyProgram: 'OBD: Select Honda > IMMO > Add Smart Key > Enter PIN',
                allKeysLost: 'Read EEPROM from BCM or use Autel G-Box for PIN calc'
            },
            // ============================================================================
            // 2018 HONDA ACCORD - COMPREHENSIVE LOCKSMITH SPECIFICATIONS
            // ============================================================================
            'HONDA ACCORD': {
                blank: 'HON66 (HO01)',
                chip: 'NXP AES 128-bit (ID4A) / HITAG AES (NCF29AxM / PCF7961x)',
                freq: '433 MHz',
                series: 'K001-N718',
                fccId: 'CWTWB1G0090',
                keyType: 'Proximity Smart Key (Push-to-Start)',
                emergencyKey: 'HO01 / 35118-T2A-A50',
                cloning: 'Not Possible (ID4A AES Encrypted)',
                obd: 'Yes - Add Key w/ 2 working keys | AKL requires EEPROM/PIN',
                immoSystem: 'Honda IMMO-V5+ (Crypto-3 Encryption)',
                pinRequired: 'Yes - 4-digit PIN from BCM EEPROM or Honda Dealer Portal',
                maxKeys: '5 Keys',
                progTool: 'Autel IM608 / Xhorse VVDI Key Tool Plus / Smart Pro',
                oemRemote: '72147-TVA-A11',
                aftermarket: 'Ilco PRX-HON-4B / JMA TPX2-HON-4B',
                shell: 'HON-SHELL-4B',
                // Comprehensive Cross-Reference
                crossRef: { 
                    ilco: 'HO01-PT / PRX-HON-4B / PRX-HON-5B', 
                    strattec: '591389 / 591390', 
                    jma: 'HOND-31 / TPX2-HON-4B', 
                    keydiy: 'B10-3+1' 
                },
                transponderInfo: { 
                    id: 'ID4A / HITAG AES', 
                    tech: 'NXP AES 128-bit (PCF7961x) / Crypto-3', 
                    bits: '128-bit', 
                    clonable: 'Not Clonable via OBD - Requires RW4+ for partial generation'
                },
                cutType: 'High Security / Laser Cut (HON66)',
                machineRequired: 'Laser/Sidewinder (HPC/Silca HO01 cards)',
                bittingInfo: { depths: 5, positions: 5, spacing: '1.04-1.41mm depths', macs: 4 },
                eepromData: { 
                    bcm: '93C86 (16-bit, x16 mode)',
                    bcmPart: '37820-T2A-A00 (Base) / 37820-6G0-A (Hybrid)',
                    pinLocation: 'End of 14-digit IMMO number (repeated 3x)',
                    readTools: 'UPA-USB / Autel G-Box2 / Carprog',
                    module: 'BCM (Body Control Module)',
                    location: 'Under dash, left of steering column (remove knee panel, 4 Torx screws)'
                },
                // Detailed Key Blanks (2018 Accord Specific)
                keyBlanks: [
                    { type: 'DEALER', part: '72147-TVA-A11', desc: 'Prox Fob 4 Btn (Lock/Unlock/Trunk/Panic)', fcc: 'CWTWB1G0090', freq: '433 MHz', battery: 'CR2032', cost: '$70-90' },
                    { type: 'DEALER', part: '72147-TWA-A31', desc: 'Prox Fob 5 Btn w/Remote Start (Touring)', fcc: 'CWTWB1G0090', freq: '433 MHz', battery: 'CR2032', cost: '$80-100' },
                    { type: 'DEALER', part: '72147-TSV-W01', desc: 'Prox Fob 3 Btn (Legacy/Rare)', fcc: 'CWTWB1G0090', freq: '433 MHz', battery: 'CR2032', cost: '$60-70' },
                    { type: 'DEALER', part: '35118-T2A-A50', desc: 'Emergency Blade Only (HON66)', fcc: 'N/A', freq: 'N/A', battery: 'N/A', cost: '$10-20' },
                    { type: 'ILCO', part: 'PRX-HON-4B', desc: 'Aftermarket 4 Btn Prox', fcc: 'CWTWB1G0090', freq: '433 MHz', battery: 'CR2032', cost: '$40-60' },
                    { type: 'ILCO', part: 'PRX-HON-5B', desc: 'Aftermarket 5 Btn w/RS', fcc: 'CWTWB1G0090', freq: '433 MHz', battery: 'CR2032', cost: '$50-70' },
                    { type: 'ILCO', part: 'HO01-PT', desc: 'Mechanical Blank (Chipless)', fcc: 'N/A', freq: 'N/A', battery: 'N/A', cost: '$8-12' },
                    { type: 'JMA', part: 'HOND-31', desc: 'Aftermarket Blade', fcc: 'N/A', freq: 'N/A', battery: 'N/A', cost: '$10-15' },
                    { type: 'STRATTEC', part: '591389', desc: 'OEM 4 Btn Replacement', fcc: 'CWTWB1G0090', freq: '433 MHz', battery: 'CR2032', cost: '$65-85' },
                    { type: 'TEST', part: 'HO01-TST', desc: 'Test Key (Uncut, No Chip)', fcc: 'N/A', freq: 'N/A', battery: 'N/A', cost: '$5' },
                    { type: 'SHELL', part: 'HON-SHELL-4B', desc: 'Replacement Housing Only', fcc: 'N/A', freq: 'N/A', battery: 'N/A', cost: '$12' }
                ],
                testKey: 'HO01 / HON66 TEST KEY',
                codeSeries: 'K001-N718 (5 cuts, depths 1-5)',
                decoderTools: ['Lishi HO01/HON66 2-in-1', 'Lishi AG (Anti-Glare)', '2M2 Tank 2 Pro CNC', 'Determinator', 'DEFU 368A Cutter'],
                pinSource: 'Honda Dealer Portal (paid ~$20-30/query via NASTF) / BCM EEPROM dump / Autel G-Box2 calculation',
                obdLocation: 'Under dash, left of steering column (BCM sticker has code)',
                programmingNotes: 'Add Key: Requires 2 working keys, insert sequentially near RF antenna (overhead console). AKL: PIN mandatory - read EEPROM from BCM or use Autel G-Box for calc. All keys erased first. Max 5 keys. Reduce RF interference (phones off). Hybrids may need 12V adapter.',
                yearRange: '2018 (10th Generation CV Chassis)',
                autelGuide: 'https://www.autel.com/support/vehicles/honda',
                vvdiGuide: 'https://www.youtube.com/watch?v=gr4ZjMzNuB4',
                smartProGuide: 'https://www.adp.com/training/honda',
                autelAklVideo: 'https://www.youtube.com/watch?v=I3t3qBzBK8A',
                // Programming Procedures
                addKeyProcedure: 'Autel IM608: OBD connect > Honda > Accord > 2018 > Smart Key > Add. Ignition ON w/ working key 1, insert key 2, place new key near antenna (overhead). Prompt: "Lights off? Yes." Test start. Time: 5-10 min.',
                aklProcedure: 'Xhorse VVDI: 1) Remove BCM (4 bolts, unplug harness). 2) Bench-read 93C86 EEPROM (x16 mode - CH341A incompatible, use Carprog). 3) Calc PIN (end of 14-digit IMMO, hex decode). 4) Reinstall > OBD > Generate token > Program keys 1-5. Time: 20-30 min.',
                aklAltProcedure: 'Autel KM100 w/ Universal iKey: Generate key > IMMO > Keyless Honda > All Lost > Hold stop button > Place key inside > Ignition cycles (off/on twice). Security light off confirms.',
                keyProgram: 'OBD: Honda > Accord > Smart Key > Add Key (2 working req.) OR All Keys Lost (PIN from EEPROM)',
                selfProgram: 'Not Available - Professional tool required for all programming',
                allKeysLost: 'BCM EEPROM dump required (93C86). Read via UPA-USB/G-Box2/Carprog. Calc 4-digit PIN from 14-digit IMMO number. Program 1-5 keys. Dealer alt: Honda HDS software.',
                // Clone Chip Info
                cloneChipInfo: {
                    nxpId4a: { chip: 'NXP ID4A AES', method: 'Partial generation only', tools: 'Xhorse RW4+ (~$800)', notes: 'Not OBD-clonable, requires key generation' },
                    hitagAes: { chip: 'HITAG AES (NCF29AxM)', method: 'Bench read/write only', tools: 'VVDI2 clone mode / Autel iKeyDo', notes: 'Crypto-3 encrypted, N/A for shells' },
                    tpx: { chip: 'TPX3/TPX4', method: 'Emulation only', tools: 'Xhorse', notes: 'For testing only, not permanent' },
                    cn3: { chip: 'CN3', method: 'N/A', tools: 'N/A', notes: 'Legacy, not applicable to 2018 Accord' },
                    overall: 'OBD-Only programming (No direct cloning) - Honda HDS dealer-locked; locksmiths use EEPROM for full reset'
                },
                // Battery and Service
                batteryType: 'CR2032 (3V, ~2 year life)',
                remoteRange: '30-100 ft (100m max)',
                vinDecode: 'Positions 4-8 confirm trim/engine (e.g., CR2F3 = 1.5T LX). VIN starts 1HGCR2F3XJAxxxxxx for base.',
                recallInfo: 'BCM updates (NHTSA 20V-312) addressed phantom drains - verify via VIN',
                airbagWarning: 'Disconnect battery 10+ minutes before BCM work to avoid SRS codes',
                hybridNotes: 'Hybrid models use same keyway but BCM 37820-6G0-A - extra EEPROM steps (RL56/L56R chips for mileage/PIN). ID47 variant chip possible.',
                dealerCost: 'Honda dealer charges $150+ for programming; locksmith ~$50-150',
                fccDetails: { fccId: 'CWTWB1G0090', icNumber: '1788F-FWB1G0090', frequencyTolerance: '¬±0.92 MHz' },
                // Key Citations
                citations: [
                    'Ilco Honda Key Blanks - ilco.us',
                    'Locksmith Keyless 2018 Accord Smart Key',
                    'Transpondery Honda Catalog',
                    'American Key Supply Lishi HO01',
                    'UHS Hardware 2018 Accord 5B Key',
                    'CLK Supplies HO01-PT Blank',
                    'OBDII365 EEPROM PIN Guide'
                ]
            },
            'HYUNDAI': {
                blank: 'HY15 / HYN14R',
                chip: 'Philips 46 / Hitag 3',
                freq: '433 MHz',
                series: 'T0001-T2500',
                fccId: 'SY5MDFNA433',
                keyType: 'Flip Key / Smart Key',
                emergencyKey: 'HYN14R',
                cloning: 'Possible (46)',
                obd: 'Yes',
                immoSystem: 'Hyundai IMMO',
                pinRequired: 'PIN Code Required',
                maxKeys: '8 Keys',
                progTool: 'Autel / Smart Pro / GDS',
                oemRemote: '95440-D3110',
                aftermarket: 'KEYDIY B28',
                shell: 'HYU-SHELL-4B'
            },
            'INFINITI': {
                blank: 'NSN14 / NI06',
                chip: 'Philips 46 (Encrypted)',
                freq: '315 MHz',
                series: 'A0001-A5000',
                fccId: 'CWTWB1G744',
                keyType: 'Proximity Smart Key',
                emergencyKey: 'NSN14',
                cloning: 'Not Possible',
                obd: 'Limited',
                immoSystem: 'Nissan NATS 6',
                pinRequired: 'BCM Data Required',
                maxKeys: '6 Keys',
                progTool: 'Autel / NERS',
                oemRemote: '285E3-9NF5B',
                aftermarket: 'KEYDIY B36-4',
                shell: 'INF-SHELL-4B'
            },
            'JAGUAR': {
                blank: 'HU101 / TIBBE',
                chip: 'Hitag Pro / ID49',
                freq: '315/433 MHz',
                series: 'JLR Series',
                fccId: 'KOBJTF10A',
                keyType: 'PEPS Smart Key',
                emergencyKey: 'HU101',
                cloning: 'Not Possible',
                obd: 'SDD Required',
                immoSystem: 'JLR Smart Key',
                pinRequired: 'SDD Access',
                maxKeys: '8 Keys',
                progTool: 'Autel / JLR SDD',
                oemRemote: 'C2D51458',
                aftermarket: 'KEYDIY B30',
                shell: 'JAG-SHELL-5B'
            },
            'JEEP': {
                blank: 'Y157 / Y159 / Y164 / Y166',
                chip: 'Hitag AES (4A) / Hitag 128-bit',
                freq: '433.92 MHz',
                series: 'M001-2618',
                fccId: 'GQ4-76T / M3N-40821302',
                keyType: 'Fobik / Prox Smart Key',
                emergencyKey: 'Y164 / Y166',
                cloning: 'Not Possible (AES)',
                obd: 'Yes (wiTECH / Autel with SGW bypass)',
                immoSystem: 'Chrysler AES / Secured Gateway Module',
                pinRequired: 'PIN from wiTECH or SGW Bypass',
                maxKeys: '8 Keys',
                progTool: 'Autel IM608 Pro / wiTECH 2.0 / Smart Pro',
                oemRemote: '68394198AA',
                aftermarket: 'KEYDIY B18',
                shell: 'JEEP-FOBIK-4B',
                keyBlanks: [
                    { type: 'DEALER', part: '68394198AA', desc: 'Prox Fob 5 Btn w/Rmt Start', fcc: 'M3N40821302', freq: '433.92 MHz' },
                    { type: 'DEALER', part: '68416784AA', desc: 'Fobik 5 Btn', fcc: 'GQ4-76T', freq: '433.92 MHz' },
                    { type: 'DEALER', part: '68105083AG', desc: 'Fobik 4 Btn', fcc: 'GQ4-54T', freq: '433 MHz' },
                    { type: 'ILCO', part: 'PRX-CHRY-5B5', desc: 'Prox 5 Btn', fcc: 'M3N40821302', freq: '433 MHz' },
                    { type: 'KEYDIY', part: 'B18', desc: 'Fobik Style', fcc: 'N/A', freq: '433 MHz' }
                ],
                testKey: 'Y157 / Y159 / Y164 TEST KEY',
                codeSeries: 'M001-2618',
                decoderTools: ['Determinator', 'CHR2', 'Lishi CHY3'],
                pinSource: 'wiTECH 2.0 / Autel IM608 Pro with SGW bypass',
                obdLocation: 'Under dash, left of steering column',
                programmingNotes: '2018+ Jeeps require Security Gateway (SGW) bypass adapter (APB112). Pre-2018: Direct OBD.',
                yearRange: '2005-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/chrysler-dodge',
                witechInfo: 'wiTECH 2.0 subscription required for dealer-level programming',
                sgwBypass: 'Autel APB112 Smart Key Emulator required for 2018+ vehicles',
                allKeysLost: 'Use Autel IM608 Pro with APB112 SGW bypass. Read PIN from ORVR module EEPROM.',
                eepromData: 'RFH Module: 9S12XEQ512 / ORVR: 93C86'
            },
            'KIA': {
                blank: 'KIA7 / HYN14R',
                chip: 'Philips 46 / Hitag 3',
                freq: '433 MHz',
                series: 'K0001-K2500',
                fccId: 'TQ8-FOB-4F08',
                keyType: 'Flip Key / Smart Key',
                emergencyKey: 'HYN14R',
                cloning: 'Possible (46)',
                obd: 'Yes',
                immoSystem: 'Kia IMMO',
                pinRequired: 'PIN Code Required',
                maxKeys: '8 Keys',
                progTool: 'Autel / Smart Pro / GDS',
                oemRemote: '95430-D9500',
                aftermarket: 'KEYDIY B19-4',
                shell: 'KIA-SHELL-4B'
            },
            'LAND ROVER': {
                blank: 'HU101',
                chip: 'Hitag Pro / ID49',
                freq: '315/433 MHz',
                series: 'LR Series',
                fccId: 'KOBJTF10A',
                keyType: 'PEPS Smart Key',
                emergencyKey: 'HU101',
                cloning: 'Not Possible',
                obd: 'SDD Required',
                immoSystem: 'JLR Smart Key',
                pinRequired: 'SDD Access',
                maxKeys: '8 Keys',
                progTool: 'Autel / JLR SDD',
                oemRemote: 'LR087661',
                aftermarket: 'KEYDIY B30',
                shell: 'LR-SHELL-5B'
            },
            'LEXUS': {
                blank: 'TOY48 / TOY50',
                chip: 'Texas Crypto DST-AES / 8A',
                freq: '315/433 MHz',
                series: '50000-69999',
                fccId: 'HYQ14FBA',
                keyType: 'Proximity Smart Key',
                emergencyKey: 'TOY48',
                cloning: 'Not Possible (8A)',
                obd: 'Limited (Pre-2018)',
                immoSystem: 'Toyota Smart Key',
                pinRequired: 'Seed Key / H Data',
                maxKeys: '8 Keys',
                progTool: 'Autel / Xhorse / TANGO',
                oemRemote: '89904-0E092',
                aftermarket: 'KEYDIY B13-4',
                shell: 'LEX-SHELL-4B'
            },
            'LINCOLN': {
                blank: 'H92 / H94',
                chip: 'Texas Crypto 4D-63 (80-bit)',
                freq: '315 MHz',
                series: '1X-1706X',
                fccId: 'M3N-A2C31243800',
                keyType: 'Smart Key / PATS',
                emergencyKey: 'H94',
                cloning: 'Possible (4D)',
                obd: 'Yes (PATS)',
                immoSystem: 'Ford PATS',
                pinRequired: 'PATS Code',
                maxKeys: '8 Keys',
                progTool: 'Autel / Smart Pro',
                oemRemote: '164-R8154',
                aftermarket: 'ILCO FLIP-FORD-5B',
                shell: 'LINC-SHELL-5B'
            },
            'MAZDA': {
                blank: 'MAZ24 / MAZ24R',
                chip: 'Texas Crypto 4D-63 / Hitag Pro',
                freq: '315 MHz',
                series: '10100-12283',
                fccId: 'WAZSKE13D01',
                keyType: 'Flip Key / Smart Key',
                emergencyKey: 'MAZ24R',
                cloning: 'Possible (4D)',
                obd: 'Yes',
                immoSystem: 'Mazda SKE',
                pinRequired: 'Security Code',
                maxKeys: '8 Keys',
                progTool: 'Autel / Smart Pro',
                oemRemote: 'KDY3-67-5RY',
                aftermarket: 'KEYDIY B14-3',
                shell: 'MAZ-SHELL-3B'
            },
            'MERCEDES': {
                blank: 'HU64 / HU101',
                chip: 'PCF7941 / NEC',
                freq: '315/433 MHz',
                series: 'MB Series',
                fccId: 'IYZ-3317',
                keyType: 'Chrome Key / Smart Key',
                emergencyKey: 'HU64',
                cloning: 'Possible (BGA)',
                obd: 'EIS/ELV Work',
                immoSystem: 'Mercedes EIS/EZS',
                pinRequired: 'EIS Data Required',
                maxKeys: '8 Keys',
                progTool: 'CGDI MB / Autel / VVDI',
                oemRemote: 'A204-905-97-02',
                aftermarket: 'KEYDIY B06',
                shell: 'MB-SHELL-3B'
            },
            'MINI': {
                blank: 'HU92 / HU100R',
                chip: 'PCF7942 / Hitag Pro',
                freq: '315/433/868 MHz',
                series: 'MINI Series',
                fccId: 'NBGIDGNG1',
                keyType: 'CAS Smart Key',
                emergencyKey: 'HU92',
                cloning: 'Possible',
                obd: 'Limited',
                immoSystem: 'BMW CAS/FEM',
                pinRequired: 'ISN Code',
                maxKeys: '10 Keys',
                progTool: 'CGDI / Yanhua / Autel',
                oemRemote: '66-12-3-451-431',
                aftermarket: 'KEYDIY ZB02-3',
                shell: 'MINI-SHELL-3B'
            },
            'MITSUBISHI': {
                blank: 'MIT3 / MIT11',
                chip: 'Philips 46 / Hitag 3',
                freq: '315/433 MHz',
                series: 'M001-M999',
                fccId: 'OUCJ166N',
                keyType: 'Flip Key / Smart Key',
                emergencyKey: 'MIT11',
                cloning: 'Possible (46)',
                obd: 'Yes',
                immoSystem: 'Mitsubishi IMMO',
                pinRequired: 'PIN Code',
                maxKeys: '8 Keys',
                progTool: 'Autel / Smart Pro',
                oemRemote: '8637A663',
                aftermarket: 'KEYDIY B10-3',
                shell: 'MIT-SHELL-3B'
            },
            'NISSAN': {
                blank: 'DA34 / NSN14 / NSN19',
                chip: 'Philips 46 (Encrypted) / Hitag AES',
                freq: '315 MHz / 433 MHz',
                series: '1-22185 / A0001-A5000',
                fccId: 'KR55WK48903 / CWTWB1U840',
                keyType: 'I-Key Smart Key / Push Button Start',
                emergencyKey: 'NSN14',
                cloning: 'Not Possible (NATS 5/6)',
                obd: 'Limited - BCM learning most models',
                immoSystem: 'Nissan NATS 5/6',
                pinRequired: 'BCM Data Required / NERS for AKL',
                maxKeys: '6 Keys',
                progTool: 'Autel IM608 / Smart Pro / NERS (Dealer)',
                oemRemote: '285E3-3AA0B',
                aftermarket: 'KEYDIY B36-4',
                shell: 'NIS-SHELL-4B',
                keyBlanks: [
                    { type: 'DEALER', part: '285E3-3AA0B', desc: 'I-Key 4 Btn', fcc: 'KR55WK48903', freq: '315 MHz' },
                    { type: 'DEALER', part: '285E3-9NF5A', desc: 'I-Key 5 Btn w/Rmt Start', fcc: 'CWTWB1U840', freq: '315 MHz' },
                    { type: 'DEALER', part: '285E3-5AA3D', desc: 'I-Key 3 Btn', fcc: 'CWTWB1G767', freq: '315 MHz' },
                    { type: 'ILCO', part: 'PRX-NIS-4B1', desc: 'Prox 4 Btn', fcc: 'KR55WK48903', freq: '315 MHz' },
                    { type: 'KEYDIY', part: 'B36-4', desc: 'Universal Prox', fcc: 'N/A', freq: '315 MHz' }
                ],
                testKey: 'NSN14 / DA34 TEST KEY',
                codeSeries: '1-22185',
                decoderTools: ['Lishi NSN14', 'Lishi DAT17', 'Determinator'],
                pinSource: 'NERS (Dealer) / Autel BCM Read / Smart Pro EEPROM',
                obdLocation: 'Under dash, left side near fuse box',
                programmingNotes: '2008-2017: BCM programming via OBD. 2018+: May require BCM EEPROM backup.',
                yearRange: '2003-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/nissan',
                vvdiGuide: 'https://blog.uobdii.com/vvdi-key-tool-plus-nissan-all-keys-lost/',
                nersInfo: 'NERS (Nissan Electronic Registration System) required for some AKL procedures',
                allKeysLost: 'Read BCM EEPROM data via Autel IM608. Use NERS for dealer-level access on newer vehicles.',
                eepromData: 'BCM: R5F61524 / R5F61526'
            },
            'PORSCHE': {
                blank: 'HU66 / PO01',
                chip: 'Hitag Pro / ID49',
                freq: '315/433 MHz',
                series: 'Porsche Series',
                fccId: 'KR55WK50138',
                keyType: 'PASM Smart Key',
                emergencyKey: 'HU66',
                cloning: 'Not Possible',
                obd: 'PIWIS Required',
                immoSystem: 'Porsche KESSY',
                pinRequired: 'PIWIS Access',
                maxKeys: '8 Keys',
                progTool: 'PIWIS / Autel (Limited)',
                oemRemote: '7PP-959-753-CQ',
                aftermarket: 'N/A - OEM Only',
                shell: 'POR-SHELL-4B'
            },
            'RAM': {
                blank: 'Y160 / Y164',
                chip: 'Hitag AES (4A)',
                freq: '433 MHz',
                series: '1X-8000X',
                fccId: 'GQ4-76T',
                keyType: 'Fobik / Smart Key',
                emergencyKey: 'Y164',
                cloning: 'Not Possible',
                obd: 'Yes (wiTECH)',
                immoSystem: 'Chrysler AES',
                pinRequired: 'Yes - wiTECH',
                maxKeys: '8 Keys',
                progTool: 'Autel / wiTECH',
                oemRemote: '68394198AA',
                aftermarket: 'KEYDIY B35',
                shell: 'RAM-FOBIK-5B'
            },
            'SUBARU': {
                blank: 'DAT17 / SUB44',
                chip: 'Texas Crypto 4D-62 / Hitag Pro',
                freq: '315 MHz',
                series: 'S001-S999',
                fccId: 'HYQ14AHC',
                keyType: 'Smart Key / Flip Key',
                emergencyKey: 'DAT17',
                cloning: 'Possible (4D)',
                obd: 'Yes',
                immoSystem: 'Subaru G-Chip',
                pinRequired: 'Security Code',
                maxKeys: '8 Keys',
                progTool: 'Autel / Smart Pro',
                oemRemote: '88835-FL00A',
                aftermarket: 'KEYDIY B14-3',
                shell: 'SUB-SHELL-4B'
            },
            'TESLA': {
                blank: 'N/A - Card/Phone',
                chip: 'BLE / NFC',
                freq: 'Bluetooth LE',
                series: 'Tesla Series',
                fccId: 'BCYA12LPA1',
                keyType: 'Card / Phone Key',
                emergencyKey: 'Key Card',
                cloning: 'Not Possible',
                obd: 'Tesla Service Only',
                immoSystem: 'Tesla BLE',
                pinRequired: 'Tesla Account',
                maxKeys: '19 Keys',
                progTool: 'Tesla Service Mode',
                oemRemote: '1454006-00-A',
                aftermarket: 'N/A',
                shell: 'N/A'
            },
            'TOYOTA': {
                blank: 'TR47 / TOY43 / TOY48 / TOY50',
                chip: 'Texas 4C / 4D-67 / 4D-68 / G-Chip (4D-72) / H-Chip (8A AES-128)',
                freq: '315 MHz (US) / 433 MHz (EU/Asia)',
                series: '50000-69999',
                fccId: 'HYQ12BDP / HYQ12BBY / HYQ14FBA / HYQ14FBN',
                keyType: 'Transponder Key / Smart Key (G-Key / H-Key)',
                emergencyKey: 'TOY43 / TOY48 / TOY50',
                cloning: '4C/4D: Yes | G: Yes (CN6) | H/8A: Not Possible',
                obd: '4D: Yes | G: Yes | H (Pre-2021): Yes | H (2021+): Seed Key Required',
                immoSystem: 'Toyota Immobilizer / Smart Key System',
                pinRequired: '4D/G: Usually no PIN | H/8A: Seed Key calculation for AKL',
                maxKeys: '8 Keys',
                progTool: 'Autel IM608 Pro / Smart Pro / TANGO / Xhorse / Toyota Techstream',
                oemRemote: '89904-06140',
                aftermarket: 'KEYDIY B13-3',
                shell: 'TOY-SHELL-4B',
                // Comprehensive Toyota Chip Guide
                crossRef: { 
                    ilco: 'TOY43AT-4 / TOY44D-PT / TOY48-PT / TOY50-PT', 
                    strattec: 'N/A', 
                    jma: 'TOYO-15 / TOYO-20 / TOYO-24 / TOYO-26', 
                    keydiy: 'B13-3 / B13-4' 
                },
                transponderInfo: { 
                    id: '4C / 4D-67 / 4D-68 / G (4D-72) / H (8A)', 
                    tech: 'Texas Instruments / DST-AES', 
                    bits: '40/80/128-bit', 
                    clonable: '4D/G: Yes | H: No' 
                },
                cutType: 'High Security / Sidewinder / Laser Cut',
                machineRequired: 'Laser/Vertical Mill (Condor, Ninja, Silca Futura)',
                bittingInfo: { depths: 4, positions: 8, spacing: '0.200"', macs: 3 },
                eepromData: { 
                    smartEcu: '93C66 / 93C86',
                    combinationMeter: '93C86',
                    certificationEcu: 'R5F61527',
                    immoBox: '93C56',
                    module: 'Smart ECU / Certification ECU',
                    location: 'Behind center console or under dash'
                },
                // TOYOTA CHIP IDENTIFICATION GUIDE (KEY BLADE STAMPS)
                toyotaChipGuide: {
                    noMark: { chip: '4C', years: '1998-2003', desc: 'No stamp = Fixed Code 4C', clonable: true },
                    dimple: { chip: '4C/4D', years: '2000-2006', desc: 'Small dimple = 4C or early 4D', clonable: true },
                    dot: { chip: '4D-67/68', years: '2003-2010', desc: 'DOT stamp = 4D Crypto', clonable: true },
                    g: { chip: 'G (4D-72)', years: '2010-2019', desc: 'G stamp = 80-bit Crypto', clonable: true },
                    h: { chip: 'H (8A)', years: '2018-Present', desc: 'H stamp = 128-bit AES', clonable: false }
                },
                chipIdentification: 'Visual: Check key blade for stamp (No mark, Dot, G, H). G-Chip blade stamped "G". H-Chip blade stamped "H".',
                keyBlanks: [
                    { type: 'DEALER', part: '89904-06140', desc: 'Smart Key 4 Btn', fcc: 'HYQ14FBA', freq: '315 MHz' },
                    { type: 'DEALER', part: '89070-06590', desc: 'Smart Key 3 Btn', fcc: 'HYQ14FBN', freq: '315 MHz' },
                    { type: 'DEALER', part: '89785-08040', desc: 'G-Key Blade Only', fcc: 'N/A', freq: 'N/A' },
                    { type: 'DEALER', part: '89070-02880', desc: 'H-Key 2020+ Smart', fcc: 'HYQ14FBN', freq: '315 MHz' },
                    { type: 'ILCO', part: 'TOY43AT-4', desc: 'G-Chip Ready Key', fcc: 'N/A', freq: 'N/A' },
                    { type: 'ILCO', part: 'TOY44D-PT', desc: '4D (Dot) Transponder', fcc: 'N/A', freq: 'N/A' },
                    { type: 'ILCO', part: 'TOY48-PT', desc: 'Smart Key Emergency', fcc: 'N/A', freq: 'N/A' },
                    { type: 'KEYDIY', part: 'B13-3+1', desc: 'Universal Toyota', fcc: 'N/A', freq: '315/433 MHz' },
                    { type: 'KEYDIY', part: 'TB01-4 TOYOTA', desc: 'Toyota H-Key Smart', fcc: 'N/A', freq: '315 MHz' }
                ],
                testKey: 'TOY43 / TOY48 / TOY50 TEST KEY',
                codeSeries: '50000-69999 (Toyota High Security)',
                decoderTools: ['Lishi TOY43', 'Lishi TOY48', 'Lishi TOY2 Track', 'Turbo Decoder TOY'],
                pinSource: '4D/G: Usually OBD direct (no PIN) | H-Chip: Seed Key from Autel/TANGO server',
                obdLocation: 'Under dash, left of steering column',
                programmingNotes: '4D (Dot): OBD direct add. G-Chip: OBD direct. H-Chip 2018-2020: OBD possible. H-Chip 2021+: Seed Key calculation required.',
                yearRange: '1998-2024',
                autelGuide: 'https://www.autel.com/support/vehicles/toyota',
                tangoGuide: 'https://www.scorpio-lk.com/tango/toyota/',
                xhorseGuide: 'https://www.xhorsevvdi.com/blog/toyota-8a-all-keys-lost/',
                techstreamInfo: 'Toyota Techstream requires dealer access for some functions',
                keyProgram: 'Toyota > IMMO > Smart Key > Add Key. For H-Key AKL: Use Autel/TANGO seed calculator.',
                selfProgram: 'Self-program NOT available for Toyota Smart Keys. Requires diagnostic tool.',
                allKeysLost: '4D: Clone from ECU EEPROM (93C56/66). G: OBD AKL with tool. H: Seed key calculation via Autel IM608 Pro or TANGO.',
                chipGuide: '4C: 1998-2003 | 4D-67/68 (Dot): 2003-2010 | G (4D-72): 2010-2019 | H (8A): 2018+',
                ecuReflash: 'Older Toyotas (Pre-2004): ECU reflash may be required if all keys lost. Read EEPROM and rewrite.',
                hChipNote: 'H-Chip (8A) vehicles 2021+: Seed key calculation requires server connection (Autel, TANGO, Xhorse)'
            },
            'VOLKSWAGEN': {
                blank: 'HU66 / HU162T',
                chip: 'Megamos Crypto 48 / MQB',
                freq: '315/433 MHz',
                series: 'VW Series',
                fccId: 'NBGFS12P71',
                keyType: 'Flip Key / KESSY',
                emergencyKey: 'HU66',
                cloning: 'Possible (48)',
                obd: 'Yes (with IMMO)',
                immoSystem: 'VW IMMO 4/5 / MQB',
                pinRequired: 'Component Security',
                maxKeys: '8 Keys',
                progTool: 'VVDI / Autel / ODIS',
                oemRemote: '5G0-959-752-BH',
                aftermarket: 'KEYDIY B33',
                shell: 'VW-SHELL-3B'
            },
            'VOLVO': {
                blank: 'NE66 / NE71',
                chip: 'Hitag Pro / ID49',
                freq: '433/868 MHz',
                series: 'Volvo Series',
                fccId: 'KR55WK49264',
                keyType: 'PCC Smart Key',
                emergencyKey: 'NE66',
                cloning: 'Not Possible',
                obd: 'VIDA Required',
                immoSystem: 'Volvo CEM',
                pinRequired: 'CEM Data',
                maxKeys: '6 Keys',
                progTool: 'VIDA / Autel / Lonsdor',
                oemRemote: '31419131',
                aftermarket: 'KEYDIY B32',
                shell: 'VOL-SHELL-5B'
            },
            'DEFAULT': {
                blank: 'Unknown',
                chip: 'Unknown',
                freq: 'Unknown',
                series: 'Unknown',
                fccId: 'N/A',
                keyType: 'Standard',
                emergencyKey: 'N/A',
                cloning: 'Contact Specialist',
                obd: 'Unknown',
                immoSystem: 'Unknown',
                pinRequired: 'Unknown',
                maxKeys: 'Unknown',
                progTool: 'Contact Specialist',
                oemRemote: 'N/A',
                aftermarket: 'N/A',
                shell: 'N/A'
            }
        };

        const SAMPLE_VINS = {
            'Honda': '1HGBH41JXMN109186',
            'Ford': '1FAHP3F29CL363687',
            'Toyota': 'JTDKN3DU5A0123456',
            'BMW': 'WBA8E9G50KNU83467'
        };

        const COMMON_MAKES = [
            'Acura', 'Audi', 'BMW', 'Buick', 'Cadillac', 'Chevrolet', 'Chrysler', 'Dodge',
            'Ford', 'GMC', 'Honda', 'Hyundai', 'Infiniti', 'Jaguar', 'Jeep', 'Kia', 
            'Land Rover', 'Lexus', 'Lincoln', 'Mazda', 'Mercedes-Benz', 'Mini', 'Mitsubishi', 
            'Nissan', 'Pontiac', 'Porsche', 'Ram', 'Saturn', 'Subaru', 'Tesla', 'Toyota', 
            'Volkswagen', 'Volvo'
        ];

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            initYearSelect();
            initMakeSelect();
            displayPopularProducts(); // Show popular products on load
        });

        function initYearSelect() {
            const select = document.getElementById('yearSelect');
            const currentYear = new Date().getFullYear() + 1;
            for (let y = currentYear; y >= 1995; y--) {
                const option = document.createElement('option');
                option.value = y;
                option.textContent = y;
                select.appendChild(option);
            }
        }

        function initMakeSelect() {
            const select = document.getElementById('makeSelect');
            COMMON_MAKES.forEach(make => {
                const option = document.createElement('option');
                option.value = make;
                option.textContent = make;
                select.appendChild(option);
            });

            document.getElementById('yearSelect').addEventListener('change', (e) => {
                document.getElementById('makeSelect').disabled = !e.target.value;
                if (!e.target.value) {
                    document.getElementById('makeSelect').value = '';
                    document.getElementById('modelSelect').value = '';
                    document.getElementById('modelSelect').disabled = true;
                    displayPopularProducts(); // Reset to popular products
                }
            });
            
            // Update affiliate products when make is selected
            document.getElementById('makeSelect').addEventListener('change', (e) => {
                displayProductsForMake(e.target.value);
            });
        }

        async function loadModels() {
            const make = document.getElementById('makeSelect').value;
            const year = document.getElementById('yearSelect').value;
            const modelSelect = document.getElementById('modelSelect');

            if (!make || !year) return;

            modelSelect.innerHTML = '<option value="">Loading...</option>';
            modelSelect.disabled = true;

            try {
                const response = await fetch(`https://vpic.nhtsa.dot.gov/api/vehicles/GetModelsForMakeYear/make/${make}/modelyear/${year}?format=json`);
                const data = await response.json();

                modelSelect.innerHTML = '<option value="">Select Model</option>';

                if (data.Results && data.Results.length > 0) {
                    const models = [...new Set(data.Results.map(m => m.Model_Name))].sort();

                    models.forEach(model => {
                        const option = document.createElement('option');
                        option.value = model;
                        option.textContent = model;
                        modelSelect.appendChild(option);
                    });
                    modelSelect.disabled = false;
                } else {
                    modelSelect.innerHTML = '<option value="">No models found</option>';
                }
            } catch (error) {
                console.error('Error loading models:', error);
                modelSelect.innerHTML = '<option value="">Error loading models</option>';
            }
        }

        function switchTab(tab) {
            const activeClass = 'tab-btn px-6 py-3 rounded-xl text-sm font-semibold transition-all gold-accent text-navy-950 shadow-lg';
            const inactiveClass = 'tab-btn px-6 py-3 rounded-xl text-sm font-semibold text-slate-400 hover:text-brand-400 transition-all';
            
            // Update tab button styles
            document.getElementById('tab-vin').className = tab === 'vin' ? activeClass : inactiveClass;
            document.getElementById('tab-browse').className = tab === 'browse' ? activeClass : inactiveClass;
            document.getElementById('tab-tools').className = tab === 'tools' ? activeClass : inactiveClass;

            // Hide all sections first
            document.getElementById('vin-section').classList.add('hidden');
            document.getElementById('browse-section').classList.add('hidden');
            document.getElementById('tools-section').classList.add('hidden');
            document.getElementById('resultsArea').classList.add('hidden');

            // Show selected section
            if (tab === 'vin') {
                document.getElementById('vin-section').classList.remove('hidden');
            } else if (tab === 'browse') {
                document.getElementById('browse-section').classList.remove('hidden');
            } else if (tab === 'tools') {
                document.getElementById('tools-section').classList.remove('hidden');
                renderTools(); // Initialize tools display
            }
            
            // Reset to popular products when switching tabs
            displayPopularProducts();
        }

        function fillSampleVin(make) {
            document.getElementById('vinInput').value = SAMPLE_VINS[make] || '';
        }

        async function decodeVIN() {
            const vin = document.getElementById('vinInput').value.trim();
            if (vin.length < 17) {
                alert('Please enter a valid 17-character VIN.');
                return;
            }

            showLoading();

            try {
                const response = await fetch(`https://vpic.nhtsa.dot.gov/api/vehicles/decodevin/${vin}?format=json`);
                const data = await response.json();

                if (data.Results) {
                    const getVal = (name) => {
                        const item = data.Results.find(r => r.Variable === name);
                        return item && item.Value ? item.Value : 'N/A';
                    };

                    const vehicleData = {
                        year: getVal('Model Year'),
                        make: getVal('Make'),
                        model: getVal('Model'),
                        trim: getVal('Trim') !== 'N/A' ? getVal('Trim') : getVal('Body Class'),
                        vin: vin,
                        engine: `${getVal('Displacement (L)')}L ${getVal('Engine Number of Cylinders')}-Cyl`,
                        drive: getVal('Drive Type'),
                        manuf: getVal('Manufacturer Name'),
                        country: getVal('Plant Country'),
                        body: getVal('Body Class')
                    };

                    displayResults(vehicleData);
                } else {
                    alert('Could not decode VIN. Please check and try again.');
                    hideLoading();
                }
            } catch (error) {
                console.error('Error fetching VIN data:', error);
                alert('Error connecting to vehicle database.');
                hideLoading();
            }
        }

        function searchDatabase() {
            const year = document.getElementById('yearSelect').value;
            const make = document.getElementById('makeSelect').value;
            const model = document.getElementById('modelSelect').value;

            if (!year || !make || !model) {
                alert('Please select Year, Make, and Model.');
                return;
            }

            showLoading();

            setTimeout(() => {
                const vehicleData = {
                    year: year,
                    make: make,
                    model: model,
                    trim: 'Standard Trim',
                    vin: 'N/A (Database Lookup)',
                    engine: 'Standard Engine',
                    drive: 'FWD/AWD',
                    manuf: make + ' Corporation',
                    country: 'International',
                    body: 'Sedan/SUV'
                };
                displayResults(vehicleData);
            }, 800);
        }

        function showLoading() {
            document.getElementById('loadingState').classList.remove('hidden');
            document.getElementById('resultsArea').classList.add('hidden');
        }

        function hideLoading() {
            document.getElementById('loadingState').classList.add('hidden');
        }

        function displayResults(data) {
            document.getElementById('vehicleTitle').textContent = `${data.year} ${data.make} ${data.model}`;
            document.getElementById('vehicleTrim').textContent = data.trim;
            document.getElementById('vehicleVin').textContent = data.vin;

            document.getElementById('specEngine').textContent = data.engine;
            document.getElementById('specDrive').textContent = data.drive;
            document.getElementById('specManuf').textContent = data.manuf;
            document.getElementById('specCountry').textContent = data.country;
            document.getElementById('specBody').textContent = data.body || 'N/A';

            // Get Locksmith Data - Check for specific model entries first
            let lockData = LOCKSMITH_DB['DEFAULT'];
            const makeUpper = data.make.toUpperCase().replace('-', ' ').replace('BENZ', '');
            const modelUpper = data.model ? data.model.toUpperCase() : '';
            const fullKey = `${makeUpper} ${modelUpper}`.trim();

            // First check for specific make+model combo (e.g., "HONDA ACCORD")
            for (const key in LOCKSMITH_DB) {
                if (fullKey.includes(key) || key === fullKey) {
                    lockData = LOCKSMITH_DB[key];
                    break;
                }
            }
            // Fallback to make-only if no specific model found
            if (lockData === LOCKSMITH_DB['DEFAULT']) {
                for (const key in LOCKSMITH_DB) {
                    if (makeUpper.includes(key) || key.includes(makeUpper.split(' ')[0])) {
                        lockData = LOCKSMITH_DB[key];
                        break;
                    }
                }
            }

            // Update Key Data
            document.getElementById('keyBlank').textContent = lockData.blank;
            document.getElementById('keyBlankDesc').textContent = lockData.keyType;
            document.getElementById('chipType').textContent = lockData.chip;
            document.getElementById('chipDesc').textContent = 'Crypto Encrypted';
            document.getElementById('keyCutCode').textContent = lockData.series;
            document.getElementById('keyCutDesc').textContent = `FCC: ${lockData.fccId}`;
            document.getElementById('remoteFreq').textContent = lockData.freq;
            document.getElementById('fccId').textContent = `FCC ID: ${lockData.fccId}`;

            // Additional Key Info
            document.getElementById('keyType').textContent = lockData.keyType;
            document.getElementById('emergencyKey').textContent = lockData.emergencyKey;
            document.getElementById('cloningStatus').textContent = lockData.cloning;
            document.getElementById('obdStatus').textContent = lockData.obd;

            // Immobilizer Info
            document.getElementById('immoSystem').textContent = lockData.immoSystem;
            document.getElementById('pinRequired').textContent = lockData.pinRequired;
            document.getElementById('maxKeys').textContent = lockData.maxKeys;
            document.getElementById('progTool').textContent = lockData.progTool;

            // Parts Reference
            document.getElementById('oemRemote').textContent = lockData.oemRemote;
            document.getElementById('aftermarketRemote').textContent = lockData.aftermarket;
            document.getElementById('shellPart').textContent = lockData.shell;

            // === NEW: Key Blanks Table ===
            const keyBlanksContainer = document.getElementById('keyBlanksContainer');
            keyBlanksContainer.innerHTML = '';
            
            if (lockData.keyBlanks && lockData.keyBlanks.length > 0) {
                lockData.keyBlanks.forEach(kb => {
                    const row = document.createElement('div');
                    row.className = 'bg-navy-950/60 p-4 rounded-xl border border-brand-500/20 hover:border-brand-500/40 transition-colors';
                    const batteryInfo = kb.battery ? `<span class="text-green-400 text-xs ml-2">üîã ${kb.battery}</span>` : '';
                    const costInfo = kb.cost ? `<span class="text-amber-400 text-xs ml-2">üí∞ ${kb.cost}</span>` : '';
                    const fccClickable = kb.fcc && kb.fcc !== 'N/A' 
                        ? `<button onclick="reverseSearch('fcc', '${kb.fcc}')" class="text-blue-400 hover:text-blue-300 hover:underline cursor-pointer" title="Find all vehicles with FCC ${kb.fcc}">FCC: ${kb.fcc}</button>`
                        : `<span>FCC: ${kb.fcc}</span>`;
                    row.innerHTML = `
                        <div class="flex flex-wrap items-start justify-between gap-2">
                            <div>
                                <span class="text-brand-400 font-bold text-sm">${kb.type} #</span>
                                <span class="text-white font-mono font-semibold ml-2">${kb.part}</span>
                                <span class="text-slate-400 text-sm ml-2">(${kb.desc})</span>
                                ${batteryInfo}${costInfo}
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-slate-500">${fccClickable} - ${kb.freq}</div>
                            </div>
                        </div>
                    `;
                    keyBlanksContainer.appendChild(row);
                });
            } else {
                // Generate default key blanks from basic data
                const defaultBlanks = [
                    { type: 'OEM', part: lockData.oemRemote, desc: lockData.keyType, fcc: lockData.fccId, freq: lockData.freq },
                    { type: 'ILCO', part: lockData.aftermarket, desc: 'Aftermarket Remote', fcc: lockData.fccId, freq: lockData.freq }
                ];
                defaultBlanks.forEach(kb => {
                    const row = document.createElement('div');
                    row.className = 'bg-navy-950/60 p-4 rounded-xl border border-brand-500/20';
                    row.innerHTML = `
                        <div class="flex flex-wrap items-start justify-between gap-2">
                            <div>
                                <span class="text-brand-400 font-bold text-sm">${kb.type} #</span>
                                <span class="text-white font-mono font-semibold ml-2">${kb.part}</span>
                                <span class="text-slate-400 text-sm ml-2">(${kb.desc})</span>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-slate-500">FCC: ${kb.fcc} - ${kb.freq}</div>
                            </div>
                        </div>
                    `;
                    keyBlanksContainer.appendChild(row);
                });
            }

            // Code Series & Test Key
            document.getElementById('codeSeriesValue').textContent = lockData.codeSeries || lockData.series;
            document.getElementById('testKeyValue').textContent = lockData.testKey || lockData.emergencyKey + ' TEST KEY';

            // === NEW: Decoder Tools (Clickable for reverse search) ===
            const decoderContainer = document.getElementById('decoderToolsContainer');
            decoderContainer.innerHTML = '';
            const decoders = lockData.decoderTools || ['Lishi', 'Determinator', 'InstaCode'];
            decoders.forEach(tool => {
                const badge = document.createElement('button');
                badge.className = 'px-3 py-1.5 bg-blue-500/20 text-blue-300 rounded-lg text-sm font-medium hover:bg-blue-500/40 hover:text-blue-200 transition-all cursor-pointer border border-blue-500/30 hover:border-blue-400';
                badge.textContent = tool;
                badge.title = `Click to find all vehicles using ${tool}`;
                badge.onclick = () => reverseSearch('tool', tool);
                decoderContainer.appendChild(badge);
            });

            // === NEW: Programming Guides ===
            const guidesContainer = document.getElementById('programmingGuidesContainer');
            guidesContainer.innerHTML = '';
            
            const guides = [];
            if (lockData.autelGuide) guides.push({ name: 'Autel Programming Guide', url: lockData.autelGuide, color: 'orange' });
            if (lockData.vvdiGuide) guides.push({ name: 'VVDI / Xhorse Guide', url: lockData.vvdiGuide, color: 'green' });
            if (lockData.smartProGuide) guides.push({ name: 'Smart Pro Guide', url: lockData.smartProGuide, color: 'blue' });
            if (lockData.cgdiGuide) guides.push({ name: 'CGDI Guide', url: lockData.cgdiGuide, color: 'purple' });
            if (lockData.tangoGuide) guides.push({ name: 'TANGO Guide', url: lockData.tangoGuide, color: 'red' });
            if (lockData.xhorseGuide) guides.push({ name: 'Xhorse Guide', url: lockData.xhorseGuide, color: 'cyan' });
            if (lockData.yanuhaGuide) guides.push({ name: 'Yanhua ACDP Guide', url: lockData.yanuhaGuide, color: 'pink' });
            if (lockData.witechInfo) guides.push({ name: 'wiTECH Info', url: '#', color: 'yellow', note: lockData.witechInfo });
            
            if (guides.length === 0) {
                guides.push({ name: 'Autel Support', url: 'https://www.autel.com/support', color: 'orange' });
                guides.push({ name: 'VVDI Support', url: 'https://www.xhorsevvdi.com/', color: 'green' });
            }

            guides.forEach(guide => {
                const link = document.createElement('a');
                link.href = guide.url;
                link.target = '_blank';
                link.className = `flex items-center justify-between p-4 bg-${guide.color}-500/10 border border-${guide.color}-500/30 rounded-xl hover:bg-${guide.color}-500/20 transition-colors`;
                link.innerHTML = `
                    <div class="flex items-center gap-3">
                        <svg class="w-5 h-5 text-${guide.color}-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                        <span class="text-white font-medium">${guide.name}</span>
                    </div>
                    <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                `;
                guidesContainer.appendChild(link);
            });

            // Programming Notes - Show detailed procedure if available
            let progNotes = lockData.programmingNotes || `OBD Location: ${lockData.obdLocation || 'Under dash, driver side'}. PIN Source: ${lockData.pinSource || lockData.pinRequired}`;
            if (lockData.addKeyProcedure) {
                progNotes = `ADD KEY: ${lockData.addKeyProcedure}`;
            }
            document.getElementById('programmingNotesText').textContent = progNotes;
            
            // All Keys Lost - Show detailed AKL procedure if available
            let aklNotes = lockData.allKeysLost || `Use ${lockData.progTool} for all keys lost programming. May require EEPROM read: ${lockData.eepromData || 'Consult tool manual'}`;
            if (lockData.aklProcedure) {
                aklNotes = `AKL: ${lockData.aklProcedure}`;
            }
            document.getElementById('allKeysLostText').textContent = aklNotes;

            // === NEW: Cross-Reference Table ===
            const crossRefContainer = document.getElementById('crossRefContainer');
            crossRefContainer.innerHTML = '';
            const crossRef = lockData.crossRef || { ilco: lockData.blank, strattec: 'N/A', jma: 'N/A', keydiy: lockData.aftermarket };
            const crossRefItems = [
                { label: 'ILCO', value: crossRef.ilco, color: 'blue' },
                { label: 'STRATTEC', value: crossRef.strattec, color: 'green' },
                { label: 'JMA', value: crossRef.jma, color: 'purple' },
                { label: 'KEYDIY', value: crossRef.keydiy, color: 'orange' }
            ];
            crossRefItems.forEach(item => {
                const div = document.createElement('div');
                div.className = `p-3 bg-navy-950/60 rounded-xl border border-${item.color}-500/20 text-center`;
                div.innerHTML = `
                    <div class="text-xs text-${item.color}-400 uppercase mb-1 font-semibold">${item.label}</div>
                    <div class="text-sm font-mono font-semibold text-white break-words">${item.value || 'N/A'}</div>
                `;
                crossRefContainer.appendChild(div);
            });

            // === NEW: Transponder Technical Data ===
            const transponderInfo = lockData.transponderInfo || { id: 'Unknown', tech: lockData.chip, bits: 'N/A', clonable: lockData.cloning };
            document.getElementById('transponderChipId').textContent = transponderInfo.id || 'N/A';
            document.getElementById('transponderTech').textContent = transponderInfo.tech || lockData.chip;
            document.getElementById('transponderBits').textContent = transponderInfo.bits || 'N/A';
            
            const clonableEl = document.getElementById('transponderClonable');
            const isClonable = transponderInfo.clonable;
            if (isClonable === true || isClonable === 'Yes' || (typeof isClonable === 'string' && isClonable.toLowerCase().includes('yes'))) {
                clonableEl.innerHTML = `<span class="text-green-400">‚úì Clonable</span>`;
            } else if (isClonable === false || isClonable === 'No' || isClonable === 'Not Possible') {
                clonableEl.innerHTML = `<span class="text-red-400">‚úó Not Clonable</span>`;
            } else {
                clonableEl.innerHTML = `<span class="text-amber-400">${isClonable}</span>`;
            }

            // === NEW: Bitting & Cut Specifications ===
            const bittingInfo = lockData.bittingInfo || { depths: 'N/A', positions: 'N/A', spacing: 'N/A', macs: 'N/A' };
            document.getElementById('bittingDepths').textContent = Array.isArray(bittingInfo.depths) ? bittingInfo.depths.join('/') : bittingInfo.depths;
            document.getElementById('bittingPositions').textContent = bittingInfo.positions || 'N/A';
            document.getElementById('bittingSpacing').textContent = bittingInfo.spacing || 'N/A';
            document.getElementById('bittingMacs').textContent = bittingInfo.macs || 'N/A';
            document.getElementById('cutType').textContent = lockData.cutType || 'Standard Edge Cut';
            document.getElementById('machineRequired').textContent = lockData.machineRequired || 'Standard Duplicator';

            // === NEW: EEPROM & Advanced Data ===
            const eepromContainer = document.getElementById('eepromDataContainer');
            eepromContainer.innerHTML = '';
            const eepromData = lockData.eepromData || {};
            
            if (typeof eepromData === 'object') {
                const eepromEntries = Object.entries(eepromData).filter(([key]) => key !== 'location' && key !== 'module');
                if (eepromEntries.length > 0) {
                    eepromEntries.forEach(([key, value]) => {
                        const row = document.createElement('div');
                        row.className = 'flex justify-between items-center p-3 bg-navy-950/60 rounded-lg border border-indigo-500/20';
                        row.innerHTML = `
                            <span class="text-sm text-indigo-300 uppercase font-semibold">${key.replace(/([A-Z])/g, ' $1').trim()}</span>
                            <span class="text-sm font-mono font-semibold text-white">${value}</span>
                        `;
                        eepromContainer.appendChild(row);
                    });
                } else {
                    eepromContainer.innerHTML = '<div class="text-slate-400 text-sm">EEPROM data not available for this vehicle.</div>';
                }
                document.getElementById('eepromLocation').textContent = eepromData.location || lockData.obdLocation || 'Consult service manual';
            } else {
                eepromContainer.innerHTML = `<div class="p-3 bg-navy-950/60 rounded-lg"><span class="text-sm font-mono text-white">${eepromData}</span></div>`;
                document.getElementById('eepromLocation').textContent = lockData.obdLocation || 'Consult service manual';
            }

            // === NEW: GM VATS Resistor Values (if applicable) ===
            if (lockData.vatsInfo || (lockData.gmSystems && lockData.gmSystems.vats)) {
                // Add VATS info to programming notes
                const vatsNote = lockData.vatsInfo || 'GM VATS: Check resistor pellet value (15 possible values: 0.402 - 11.800 kOhms)';
                document.getElementById('programmingNotesText').textContent += ' ' + vatsNote;
            }

            // === NEW: Manufacturer-Specific System Info ===
            if (lockData.gmSystems) {
                // GM System History - add badge
                const systemBadge = document.createElement('span');
                systemBadge.className = 'ml-2 px-2 py-1 bg-blue-500/20 text-blue-300 rounded text-xs font-medium';
                systemBadge.textContent = 'GM VATS/PK3 Info Available';
            }
            
            if (lockData.patsSystems) {
                // Ford PATS History - add badge
                const patsInfo = Object.entries(lockData.patsSystems)
                    .map(([key, val]) => `${val.years}: ${val.chip}`)
                    .join(' | ');
                document.getElementById('programmingNotesText').textContent += ' PATS Generations: ' + patsInfo;
            }

            if (lockData.toyotaChipGuide) {
                // Toyota Chip Identification Guide
                const chipGuideText = Object.entries(lockData.toyotaChipGuide)
                    .map(([key, val]) => `${val.years}: ${val.desc}`)
                    .join(' | ');
                document.getElementById('programmingNotesText').textContent = lockData.chipIdentification || chipGuideText;
            }

            // === NEW: Service Info Sidebar ===
            document.getElementById('yearRangeInfo').textContent = lockData.yearRange || 'Various';
            document.getElementById('obdLocationInfo').textContent = lockData.obdLocation || 'Under dash, driver side';
            document.getElementById('pinSourceInfo').textContent = lockData.pinSource || lockData.pinRequired || 'Consult tool';

            // === NEW: Clone Chip Guide ===
            const cloneGuideContainer = document.getElementById('cloneChipGuide');
            cloneGuideContainer.innerHTML = '';
            
            // Get transponder info and suggest clone chips
            const chipId = (lockData.transponderInfo && lockData.transponderInfo.id) || lockData.chip;
            const cloneChips = [];
            
            if (chipId.includes('4C') || chipId.includes('4D-60')) {
                cloneChips.push({ chip: 'TPX1/TPX2', desc: 'JMA Cloning Chip' });
            }
            if (chipId.includes('4D-63') || chipId.includes('4D-67') || chipId.includes('4D-68')) {
                cloneChips.push({ chip: 'CN5/CN6', desc: 'Xhorse Clone Chip' });
                cloneChips.push({ chip: 'TPX2', desc: 'JMA 4D Chip' });
            }
            if (chipId.includes('46') || chipId.includes('ID46')) {
                cloneChips.push({ chip: 'TPX3/TPX4', desc: 'JMA ID46 Clone' });
                cloneChips.push({ chip: 'CN3', desc: 'Xhorse ID46' });
            }
            if (chipId.includes('48') || chipId.includes('Megamos')) {
                cloneChips.push({ chip: 'ID48 Clone', desc: 'Megamos Clone' });
                cloneChips.push({ chip: 'Super Chip', desc: 'Xhorse VVDI' });
            }
            if (chipId.includes('G') && (chipId.includes('Toyota') || chipId.includes('4D-72'))) {
                cloneChips.push({ chip: 'CN6', desc: 'Toyota G Clone' });
            }
            if (chipId.includes('H') || chipId.includes('8A') || chipId.includes('AES') || chipId.includes('Hitag Pro') || chipId.includes('MQB')) {
                cloneChips.push({ chip: 'N/A', desc: 'Not Clonable - OBD Only' });
            }
            
            if (cloneChips.length === 0) {
                cloneChips.push({ chip: 'Super Chip', desc: 'Universal (VVDI)' });
            }

            cloneChips.forEach(cc => {
                const div = document.createElement('div');
                div.className = 'flex justify-between items-center p-2 bg-navy-950/40 rounded';
                div.innerHTML = `
                    <span class="text-slate-400">${cc.desc}</span>
                    <span class="font-mono font-semibold text-brand-300">${cc.chip}</span>
                `;
                cloneGuideContainer.appendChild(div);
            });

            // Display affiliate products (both top section and inline)
            displayAffiliateProducts(data.make, data.model);
            displayInlineProducts(data.make, data.model);

            hideLoading();
            document.getElementById('resultsArea').classList.remove('hidden');
            
            // Scroll to results
            setTimeout(() => {
                document.getElementById('resultsArea').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        // Store all products for expand/collapse
        let allCurrentProducts = [];
        let productsExpanded = false;

        // Display popular products on page load (mix from top brands)
        function displayPopularProducts() {
            const popularBrands = ['TOYOTA', 'HONDA', 'FORD', 'CHEVROLET', 'NISSAN', 'JEEP', 'BMW', 'NISSAN'];
            let products = [];
            
            popularBrands.forEach(brand => {
                if (AFFILIATE_PRODUCTS[brand] && AFFILIATE_PRODUCTS[brand].length > 0) {
                    products.push(AFFILIATE_PRODUCTS[brand][0]);
                }
            });

            allCurrentProducts = products;
            productsExpanded = false;
            renderProducts(products.slice(0, 3), products.length > 3);
        }

        // Create compact mobile-friendly product card
        function createCompactProductCard(product, index) {
            const card = document.createElement('a');
            card.href = product.amazonUrl;
            card.target = '_blank';
            card.rel = 'noopener noreferrer';
            card.className = `product-card block bg-navy-950/60 rounded-xl p-3 border border-brand-500/20 hover:border-brand-400 hover:bg-navy-900/60 transition-all active:scale-[0.98] ${index >= 3 ? 'hidden-product' : ''}`;
            card.innerHTML = `
                <div class="flex items-center gap-3">
                    <div class="flex-shrink-0 w-10 h-10 bg-brand-500/20 rounded-lg flex items-center justify-center">
                        <span class="text-brand-400 text-lg">üîë</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h4 class="text-white font-medium text-sm truncate">${product.name}</h4>
                        <div class="flex items-center gap-2 mt-1">
                            <span class="text-brand-400 font-bold text-sm">${product.price}</span>
                            <span class="text-yellow-400 text-xs">‚òÖ ${product.rating}</span>
                            <span class="text-slate-500 text-xs font-mono">FCC: ${product.fccId}</span>
                        </div>
                    </div>
                    <div class="flex-shrink-0">
                        <span class="inline-flex items-center justify-center w-8 h-8 bg-brand-500 hover:bg-brand-400 rounded-lg transition-colors">
                            <svg class="w-4 h-4 text-navy-950" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                        </span>
                    </div>
                </div>
            `;
            return card;
        }

        // Render products with expand capability
        function renderProducts(products, showExpandBtn) {
            const container = document.getElementById('affiliateProductsContainer');
            const expandBtn = document.getElementById('expandProductsBtn');
            if (!container) return;

            container.innerHTML = '';

            if (products.length === 0) {
                container.innerHTML = '<div class="text-center text-slate-400 py-4 text-sm">No matching keys found. Browse our database for more options.</div>';
                if (expandBtn) expandBtn.classList.add('hidden');
                return;
            }

            products.forEach((product, index) => {
                const card = createCompactProductCard(product, index);
                container.appendChild(card);
            });

            // Show/hide expand button
            if (expandBtn) {
                if (showExpandBtn && allCurrentProducts.length > 3) {
                    expandBtn.classList.remove('hidden');
                    updateExpandButton();
                } else {
                    expandBtn.classList.add('hidden');
                }
            }
        }

        // Toggle expand/collapse products
        function toggleExpandProducts() {
            productsExpanded = !productsExpanded;
            const products = productsExpanded ? allCurrentProducts : allCurrentProducts.slice(0, 3);
            renderProducts(products, true);
        }

        // Update expand button text
        function updateExpandButton() {
            const btnText = document.getElementById('expandBtnText');
            const btnIcon = document.getElementById('expandBtnIcon');
            if (btnText && btnIcon) {
                btnText.textContent = productsExpanded ? 'Show Less' : `Show ${allCurrentProducts.length - 3} More Keys`;
                btnIcon.style.transform = productsExpanded ? 'rotate(180deg)' : 'rotate(0deg)';
            }
        }

        function displayAffiliateProducts(make, model) {
            const makeUpper = make ? make.toUpperCase().replace('-', ' ').replace('BENZ', '') : '';
            const modelUpper = model ? model.toUpperCase() : '';
            const fullKey = `${makeUpper} ${modelUpper}`.trim();

            let products = [];
            
            // Check for specific make+model combo
            for (const key in AFFILIATE_PRODUCTS) {
                if (fullKey.includes(key) || key === fullKey) {
                    products = [...AFFILIATE_PRODUCTS[key]];
                    break;
                }
            }
            
            // Fallback to make-only
            if (products.length === 0) {
                for (const key in AFFILIATE_PRODUCTS) {
                    if (makeUpper.includes(key) || key.includes(makeUpper.split(' ')[0])) {
                        products = [...AFFILIATE_PRODUCTS[key]];
                        break;
                    }
                }
            }

            allCurrentProducts = products;
            productsExpanded = false;
            renderProducts(products.slice(0, 3), products.length > 3);
        }
        
        // Display products for a specific make
        function displayProductsForMake(make) {
            if (!make) {
                displayPopularProducts();
                return;
            }
            displayAffiliateProducts(make, '');
        }

        // Inline products for results section
        let inlineProducts = [];
        let inlineExpanded = false;

        function displayInlineProducts(make, model) {
            const container = document.getElementById('inlineAffiliateProducts');
            const expandBtn = document.getElementById('inlineExpandBtn');
            if (!container) return;

            const makeUpper = make ? make.toUpperCase().replace('-', ' ').replace('BENZ', '') : '';
            const modelUpper = model ? model.toUpperCase() : '';
            const fullKey = `${makeUpper} ${modelUpper}`.trim();

            let products = [];
            
            // Check for specific make+model combo
            for (const key in AFFILIATE_PRODUCTS) {
                if (fullKey.includes(key) || key === fullKey) {
                    products = [...AFFILIATE_PRODUCTS[key]];
                    break;
                }
            }
            
            // Fallback to make-only
            if (products.length === 0) {
                for (const key in AFFILIATE_PRODUCTS) {
                    if (makeUpper.includes(key) || key.includes(makeUpper.split(' ')[0])) {
                        products = [...AFFILIATE_PRODUCTS[key]];
                        break;
                    }
                }
            }

            inlineProducts = products;
            inlineExpanded = false;
            renderInlineProducts(products.slice(0, 3));

            // Show expand button if more than 3 products
            if (expandBtn) {
                if (products.length > 3) {
                    expandBtn.classList.remove('hidden');
                    expandBtn.classList.add('flex');
                    document.getElementById('inlineExpandText').textContent = `View All ${products.length} Keys`;
                } else {
                    expandBtn.classList.add('hidden');
                    expandBtn.classList.remove('flex');
                }
            }
        }

        function renderInlineProducts(products) {
            const container = document.getElementById('inlineAffiliateProducts');
            if (!container) return;
            
            container.innerHTML = '';

            if (products.length === 0) {
                container.innerHTML = '<div class="text-center text-slate-400 py-3 text-sm">No matching keys found for this vehicle.</div>';
                return;
            }

            products.forEach(product => {
                const card = document.createElement('a');
                card.href = product.amazonUrl;
                card.target = '_blank';
                card.rel = 'noopener noreferrer';
                card.className = 'flex items-center gap-3 p-3 bg-navy-950/60 rounded-xl border border-green-500/20 hover:border-green-400 hover:bg-navy-900/60 transition-all';
                card.innerHTML = `
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 flex-wrap">
                            <span class="text-white font-medium text-sm truncate">${product.name}</span>
                        </div>
                        <div class="flex items-center gap-2 mt-1 flex-wrap">
                            <span class="text-green-400 font-bold">${product.price}</span>
                            <span class="text-yellow-400 text-xs">‚òÖ ${product.rating}</span>
                            <span class="text-slate-500 text-xs font-mono bg-slate-800/50 px-2 py-0.5 rounded">FCC: ${product.fccId}</span>
                        </div>
                    </div>
                    <div class="flex-shrink-0">
                        <span class="inline-flex items-center gap-1 px-3 py-2 bg-green-500 hover:bg-green-400 rounded-lg text-navy-950 font-bold text-xs transition-colors">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                            Buy
                        </span>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function toggleInlineProducts() {
            inlineExpanded = !inlineExpanded;
            const products = inlineExpanded ? inlineProducts : inlineProducts.slice(0, 3);
            renderInlineProducts(products);
            
            const btnText = document.getElementById('inlineExpandText');
            const btnIcon = document.getElementById('inlineExpandIcon');
            if (btnText) {
                btnText.textContent = inlineExpanded ? 'Show Less' : `View All ${inlineProducts.length} Keys`;
            }
            if (btnIcon) {
                btnIcon.style.transform = inlineExpanded ? 'rotate(180deg)' : 'rotate(0deg)';
            }
        }

        // ============================================================================
        // LOCKSMITH TOOLS DATABASE
        // Lishi picks, decoders, programmers, and code readers
        // ============================================================================
        const LOCKSMITH_TOOLS = [
            // LISHI 2-IN-1 PICKS
            { name: 'Lishi HO01', type: 'lishi', desc: '2-in-1 Pick/Decoder for Honda HON66', makes: ['Honda', 'Acura'], years: '2002-2024', keyway: 'HON66 / HO01', uses: 'Ignition, Door, Trunk', amazonUrl: 'https://www.amazon.com/s?k=lishi+HO01+honda' },
            { name: 'Lishi TOY43', type: 'lishi', desc: '2-in-1 Pick/Decoder for Toyota', makes: ['Toyota', 'Lexus', 'Scion'], years: '1998-2024', keyway: 'TOY43 / TR47', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+TOY43+toyota' },
            { name: 'Lishi TOY48', type: 'lishi', desc: '2-in-1 for Toyota/Lexus newer models', makes: ['Toyota', 'Lexus'], years: '2013-2024', keyway: 'TOY48', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+TOY48+toyota' },
            { name: 'Lishi FO38', type: 'lishi', desc: '2-in-1 Pick/Decoder for Ford 8-cut', makes: ['Ford', 'Lincoln', 'Mercury'], years: '2001-2020', keyway: 'H75 / FO38', uses: 'Ignition, Door, Trunk', amazonUrl: 'https://www.amazon.com/s?k=lishi+FO38+ford' },
            { name: 'Lishi HU101', type: 'lishi', desc: '2-in-1 for Ford Tibbe/High Security', makes: ['Ford', 'Lincoln'], years: '2011-2024', keyway: 'HU101', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+HU101+ford' },
            { name: 'Lishi GM37', type: 'lishi', desc: '2-in-1 for GM High Security Z-Keyway', makes: ['Chevrolet', 'GMC', 'Buick', 'Cadillac'], years: '2006-2024', keyway: 'B106 / GM37', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+GM37+chevrolet' },
            { name: 'Lishi GM39', type: 'lishi', desc: '2-in-1 for GM 6-cut', makes: ['Chevrolet', 'GMC', 'Buick'], years: '1998-2008', keyway: 'B102 / GM39', uses: 'Ignition, Door, Trunk', amazonUrl: 'https://www.amazon.com/s?k=lishi+GM39+chevrolet' },
            { name: 'Lishi CY24', type: 'lishi', desc: '2-in-1 for Chrysler/Dodge/Jeep', makes: ['Chrysler', 'Dodge', 'Jeep', 'Ram'], years: '2001-2024', keyway: 'Y159 / CY24', uses: 'Ignition, Door, Trunk', amazonUrl: 'https://www.amazon.com/s?k=lishi+CY24+chrysler' },
            { name: 'Lishi NSN14', type: 'lishi', desc: '2-in-1 for Nissan/Infiniti', makes: ['Nissan', 'Infiniti'], years: '2003-2024', keyway: 'NSN14 / DA34', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+NSN14+nissan' },
            { name: 'Lishi MAZ24', type: 'lishi', desc: '2-in-1 for Mazda', makes: ['Mazda'], years: '2003-2024', keyway: 'MAZ24', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+MAZ24+mazda' },
            { name: 'Lishi HYN14', type: 'lishi', desc: '2-in-1 for Hyundai/Kia', makes: ['Hyundai', 'Kia'], years: '2006-2024', keyway: 'HYN14 / KK10', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+HYN14+hyundai+kia' },
            { name: 'Lishi MIT8', type: 'lishi', desc: '2-in-1 for Mitsubishi', makes: ['Mitsubishi'], years: '2000-2024', keyway: 'MIT8 / MIT11', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+MIT8+mitsubishi' },
            { name: 'Lishi HU66', type: 'lishi', desc: '2-in-1 for VW/Audi Group', makes: ['Volkswagen', 'Audi', 'Porsche', 'Bentley'], years: '1997-2024', keyway: 'HU66', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+HU66+volkswagen+audi' },
            { name: 'Lishi HU92', type: 'lishi', desc: '2-in-1 for BMW', makes: ['BMW', 'Mini'], years: '1995-2024', keyway: 'HU92', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+HU92+bmw' },
            { name: 'Lishi HU64', type: 'lishi', desc: '2-in-1 for Mercedes', makes: ['Mercedes-Benz'], years: '2000-2014', keyway: 'HU64', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+HU64+mercedes' },
            { name: 'Lishi HU100R', type: 'lishi', desc: '2-in-1 for BMW newer models', makes: ['BMW', 'Mini'], years: '2004-2024', keyway: 'HU100R', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+HU100R+bmw' },
            { name: 'Lishi SX9', type: 'lishi', desc: '2-in-1 for Subaru', makes: ['Subaru'], years: '2010-2024', keyway: 'SX9 / SUB1', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+SX9+subaru' },
            { name: 'Lishi NE72', type: 'lishi', desc: '2-in-1 for Volvo', makes: ['Volvo'], years: '2000-2024', keyway: 'NE72', uses: 'Ignition, Door', amazonUrl: 'https://www.amazon.com/s?k=lishi+NE72+volvo' },
            
            // DECODERS
            { name: 'Lishi 2M2 Tank', type: 'decoder', desc: 'CNC Key Cutting Machine with decoder', makes: ['Universal'], years: 'All', keyway: 'Multiple', uses: 'Cut keys by code/decode', amazonUrl: 'https://www.amazon.com/s?k=2m2+tank+key+cutting+machine' },
            { name: 'Turbo Decoder HU66', type: 'decoder', desc: 'Fast opening for VAG group', makes: ['Volkswagen', 'Audi', 'Skoda', 'Seat'], years: '1997-2024', keyway: 'HU66', uses: 'Fast Opening', amazonUrl: 'https://www.amazon.com/s?k=turbo+decoder+HU66' },
            { name: 'Turbo Decoder HU92', type: 'decoder', desc: 'Fast opening for BMW', makes: ['BMW', 'Mini'], years: '1995-2020', keyway: 'HU92', uses: 'Fast Opening', amazonUrl: 'https://www.amazon.com/s?k=turbo+decoder+HU92+bmw' },
            { name: 'Turbo Decoder HU101', type: 'decoder', desc: 'Fast opening for Ford', makes: ['Ford', 'Land Rover', 'Jaguar'], years: '2010-2024', keyway: 'HU101', uses: 'Fast Opening', amazonUrl: 'https://www.amazon.com/s?k=turbo+decoder+HU101+ford' },
            { name: 'Determinator HO01', type: 'decoder', desc: 'Electronic decoder for Honda', makes: ['Honda', 'Acura'], years: '2002-2024', keyway: 'HON66', uses: 'Digital Decode', amazonUrl: 'https://www.amazon.com/s?k=determinator+honda+decoder' },
            
            // PROGRAMMERS
            { name: 'Autel IM608 Pro', type: 'programmer', desc: 'Advanced Key Programmer with J2534', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'Key Programming, IMMO, AKL', amazonUrl: 'https://www.amazon.com/s?k=autel+im608+pro' },
            { name: 'Autel IM508', type: 'programmer', desc: 'Key Programmer with XP200 addon', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'Key Programming, IMMO', amazonUrl: 'https://www.amazon.com/s?k=autel+im508' },
            { name: 'VVDI Key Tool Max', type: 'programmer', desc: 'Xhorse Multi-function key tool', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'Key Generation, Cloning', amazonUrl: 'https://www.amazon.com/s?k=vvdi+key+tool+max' },
            { name: 'VVDI Mini Key Tool', type: 'programmer', desc: 'Compact remote programmer', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'Remote Cloning, Chip Copy', amazonUrl: 'https://www.amazon.com/s?k=vvdi+mini+key+tool' },
            { name: 'Smart Pro', type: 'programmer', desc: 'Advanced Diagnostics key programmer', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'OBD Key Programming', amazonUrl: 'https://www.amazon.com/s?k=advanced+diagnostics+smart+pro' },
            { name: 'Lonsdor K518', type: 'programmer', desc: 'Key programmer with special functions', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'Key Programming, AKL', amazonUrl: 'https://www.amazon.com/s?k=lonsdor+k518' },
            { name: 'Xtool X100 PAD3', type: 'programmer', desc: 'Tablet key programmer', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'Key Programming, IMMO', amazonUrl: 'https://www.amazon.com/s?k=xtool+x100+pad3' },
            
            // CODE READERS
            { name: 'VCDS (VAG-COM)', type: 'reader', desc: 'VW/Audi diagnostics and coding', makes: ['Volkswagen', 'Audi', 'Skoda', 'Seat'], years: '1996-2024', keyway: 'N/A', uses: 'Diagnostics, PIN Read', amazonUrl: 'https://www.amazon.com/s?k=vcds+vag+com' },
            { name: 'Forscan ELM327', type: 'reader', desc: 'Ford/Mazda diagnostics', makes: ['Ford', 'Mazda', 'Lincoln'], years: '2005-2024', keyway: 'N/A', uses: 'Diagnostics, Key Programming', amazonUrl: 'https://www.amazon.com/s?k=forscan+elm327' },
            { name: 'Honda HDS', type: 'reader', desc: 'Honda diagnostic system', makes: ['Honda', 'Acura'], years: '2004-2024', keyway: 'N/A', uses: 'Diagnostics, IMMO PIN', amazonUrl: 'https://www.amazon.com/s?k=honda+hds+diagnostic' },
            { name: 'Techstream', type: 'reader', desc: 'Toyota diagnostic tool', makes: ['Toyota', 'Lexus', 'Scion'], years: '2004-2024', keyway: 'N/A', uses: 'Diagnostics, Key Registration', amazonUrl: 'https://www.amazon.com/s?k=toyota+techstream' },
            { name: 'TPMS Tool', type: 'reader', desc: 'Tire Pressure Sensor programmer', makes: ['Universal'], years: 'All', keyway: 'N/A', uses: 'TPMS Relearn/Program', amazonUrl: 'https://www.amazon.com/s?k=tpms+tool+relearn' }
        ];

        let currentToolFilter = 'all';
        let currentToolSearch = '';

        function renderTools() {
            const grid = document.getElementById('toolsGrid');
            const countEl = document.getElementById('toolsCount');
            if (!grid) return;

            let filteredTools = LOCKSMITH_TOOLS;

            // Apply type filter
            if (currentToolFilter !== 'all') {
                filteredTools = filteredTools.filter(t => t.type === currentToolFilter);
            }

            // Apply search filter
            if (currentToolSearch) {
                const search = currentToolSearch.toLowerCase();
                filteredTools = filteredTools.filter(t => 
                    t.name.toLowerCase().includes(search) ||
                    t.desc.toLowerCase().includes(search) ||
                    t.makes.some(m => m.toLowerCase().includes(search)) ||
                    t.keyway.toLowerCase().includes(search)
                );
            }

            // Update count
            if (countEl) countEl.textContent = filteredTools.length;

            // Render tools
            grid.innerHTML = '';
            
            if (filteredTools.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center text-slate-400 py-8">No tools found matching your search.</div>';
                return;
            }

            filteredTools.forEach(tool => {
                const typeColors = {
                    lishi: 'bg-blue-500/20 text-blue-400',
                    decoder: 'bg-purple-500/20 text-purple-400',
                    programmer: 'bg-green-500/20 text-green-400',
                    reader: 'bg-orange-500/20 text-orange-400'
                };
                const typeLabels = {
                    lishi: 'üîì Lishi Pick',
                    decoder: 'üîç Decoder',
                    programmer: 'üíª Programmer',
                    reader: 'üìñ Code Reader'
                };

                const card = document.createElement('div');
                card.className = 'bg-navy-950/60 rounded-xl p-4 border border-brand-500/20 hover:border-brand-400/40 transition-all';
                card.innerHTML = `
                    <div class="flex items-start justify-between mb-2">
                        <h3 class="text-white font-bold">${tool.name}</h3>
                        <span class="px-2 py-0.5 rounded text-xs font-semibold ${typeColors[tool.type]}">${typeLabels[tool.type]}</span>
                    </div>
                    <p class="text-slate-400 text-sm mb-3">${tool.desc}</p>
                    <div class="space-y-1 text-xs mb-3">
                        <div class="flex"><span class="text-slate-500 w-16">Makes:</span><span class="text-brand-400">${tool.makes.join(', ')}</span></div>
                        <div class="flex"><span class="text-slate-500 w-16">Years:</span><span class="text-slate-300">${tool.years}</span></div>
                        <div class="flex"><span class="text-slate-500 w-16">Keyway:</span><span class="text-slate-300 font-mono">${tool.keyway}</span></div>
                        <div class="flex"><span class="text-slate-500 w-16">Uses:</span><span class="text-slate-300">${tool.uses}</span></div>
                    </div>
                    <a href="${tool.amazonUrl}" target="_blank" rel="noopener noreferrer" 
                       class="w-full inline-flex items-center justify-center gap-2 px-3 py-2 bg-brand-500 hover:bg-brand-400 rounded-lg text-navy-950 font-bold text-sm transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                        Buy on Amazon
                    </a>
                `;
                grid.appendChild(card);
            });
        }

        function filterTools() {
            currentToolSearch = document.getElementById('toolSearch').value;
            renderTools();
        }

        function filterToolsByType(type) {
            currentToolFilter = type;
            
            // Update button styles
            document.querySelectorAll('.tool-filter-btn').forEach(btn => {
                btn.className = 'tool-filter-btn px-4 py-2 rounded-lg text-sm font-semibold bg-navy-800 text-slate-300 hover:bg-navy-700';
            });
            event.target.className = 'tool-filter-btn px-4 py-2 rounded-lg text-sm font-semibold bg-brand-500 text-navy-950';
            
            renderTools();
        }

        // ============================================================================
        // REVERSE SEARCH FUNCTIONALITY
        // Search for all vehicles that use a specific FCC ID, tool, key blank, etc.
        // ============================================================================
        
        function reverseSearch(type, value) {
            const modal = document.getElementById('reverseSearchModal');
            const title = document.getElementById('reverseModalTitle');
            const subtitle = document.getElementById('reverseModalSubtitle');
            const resultsContainer = document.getElementById('reverseSearchResults');
            
            // Set title based on search type
            const typeLabels = {
                'fcc': 'üì° FCC ID',
                'tool': 'üîß Decoder Tool',
                'keyblank': 'üîë Key Blank',
                'chip': 'üíæ Transponder Chip',
                'freq': 'üìª Frequency',
                'codeseries': 'üìã Code Series',
                'keytype': 'üîê Key Type',
                'cloning': 'üìÄ Cloning Status',
                'obd': 'üîå OBD Programming'
            };
            
            title.textContent = `${typeLabels[type] || 'üîç'} ${value}`;
            subtitle.textContent = 'Finding all compatible vehicles...';
            
            // Search LOCKSMITH_DB for matches
            const matches = [];
            
            for (const [make, data] of Object.entries(LOCKSMITH_DB)) {
                if (make === 'DEFAULT') continue;
                
                let matched = false;
                let matchReason = '';
                
                switch(type) {
                    case 'fcc':
                        // Check main FCC ID
                        if (data.fccId && data.fccId.toUpperCase().includes(value.toUpperCase())) {
                            matched = true;
                            matchReason = `FCC: ${data.fccId}`;
                        }
                        // Check key blanks FCC IDs
                        if (data.keyBlanks) {
                            data.keyBlanks.forEach(kb => {
                                if (kb.fcc && kb.fcc.toUpperCase().includes(value.toUpperCase())) {
                                    matched = true;
                                    matchReason = `FCC: ${kb.fcc} (${kb.desc})`;
                                }
                            });
                        }
                        break;
                    
                    case 'fcc_extended':
                        // Check FCC_CROSS_REFERENCE for comprehensive matching
                        if (FCC_CROSS_REFERENCE[value.toUpperCase()]) {
                            const fccData = FCC_CROSS_REFERENCE[value.toUpperCase()];
                            fccData.vehicles.forEach(v => {
                                if (make.toUpperCase() === v.make.toUpperCase()) {
                                    matched = true;
                                    matchReason = `FCC ${value}: ${v.model} ${v.years}`;
                                }
                            });
                        }
                        break;
                        
                    case 'tool':
                        if (data.decoderTools && data.decoderTools.some(t => t.toLowerCase().includes(value.toLowerCase()))) {
                            matched = true;
                            matchReason = `Tools: ${data.decoderTools.join(', ')}`;
                        }
                        break;
                        
                    case 'keyblank':
                        if (data.blank && data.blank.toUpperCase().includes(value.toUpperCase())) {
                            matched = true;
                            matchReason = `Blanks: ${data.blank}`;
                        }
                        if (data.keyBlanks) {
                            data.keyBlanks.forEach(kb => {
                                if (kb.part && kb.part.toUpperCase().includes(value.toUpperCase())) {
                                    matched = true;
                                    matchReason = `Part: ${kb.part} (${kb.desc})`;
                                }
                            });
                        }
                        break;
                        
                    case 'chip':
                        if (data.chip && data.chip.toLowerCase().includes(value.toLowerCase())) {
                            matched = true;
                            matchReason = `Chip: ${data.chip}`;
                        }
                        break;
                        
                    case 'freq':
                        if (data.freq && data.freq.includes(value)) {
                            matched = true;
                            matchReason = `Frequency: ${data.freq}`;
                        }
                        break;
                        
                    case 'codeseries':
                        if (data.series && data.series.toLowerCase().includes(value.toLowerCase())) {
                            matched = true;
                            matchReason = `Series: ${data.series}`;
                        }
                        if (data.codeSeries && data.codeSeries.toLowerCase().includes(value.toLowerCase())) {
                            matched = true;
                            matchReason = `Code Series: ${data.codeSeries}`;
                        }
                        break;
                        
                    case 'keytype':
                        if (data.keyType && data.keyType.toLowerCase().includes(value.toLowerCase())) {
                            matched = true;
                            matchReason = `Key Type: ${data.keyType}`;
                        }
                        break;
                        
                    case 'cloning':
                        if (data.cloning && data.cloning.toLowerCase().includes(value.toLowerCase())) {
                            matched = true;
                            matchReason = `Cloning: ${data.cloning}`;
                        }
                        break;
                        
                    case 'obd':
                        if (data.obd && data.obd.toLowerCase().includes(value.toLowerCase())) {
                            matched = true;
                            matchReason = `OBD: ${data.obd}`;
                        }
                        break;
                }
                
                if (matched) {
                    matches.push({
                        make: make,
                        data: data,
                        reason: matchReason
                    });
                }
            }
            
            // Update subtitle with count
            subtitle.textContent = `Found ${matches.length} compatible vehicle${matches.length !== 1 ? 's' : ''}`;
            
            // Render results
            resultsContainer.innerHTML = '';
            
            if (matches.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <div class="text-4xl mb-4">üîç</div>
                        <p class="text-slate-400">No vehicles found matching "${value}"</p>
                        <p class="text-slate-500 text-sm mt-2">Try a different search term</p>
                    </div>
                `;
            } else {
                matches.forEach(match => {
                    const card = document.createElement('div');
                    card.className = 'bg-navy-950/60 rounded-xl p-4 border border-brand-500/20 hover:border-brand-400 transition-all cursor-pointer';
                    card.onclick = () => {
                        closeReverseModal();
                        // Simulate a search for this make
                        document.getElementById('yearSelect').value = '2020';
                        document.getElementById('makeSelect').value = match.make;
                        document.getElementById('makeSelect').disabled = false;
                        switchTab('browse');
                        displayProductsForMake(match.make);
                    };
                    card.innerHTML = `
                        <div class="flex items-start justify-between mb-2">
                            <h3 class="text-white font-bold text-lg">${match.make}</h3>
                            <span class="px-2 py-0.5 bg-brand-500/20 text-brand-400 text-xs rounded-full">${match.data.keyType || 'Standard'}</span>
                        </div>
                        <div class="space-y-1 text-sm">
                            <div class="flex items-center gap-2">
                                <span class="text-slate-500">Match:</span>
                                <span class="text-green-400 font-mono text-xs">${match.reason}</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-slate-500">Blanks:</span>
                                <span class="text-slate-300">${match.data.blank || 'N/A'}</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-slate-500">Chip:</span>
                                <span class="text-slate-300">${match.data.chip || 'N/A'}</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-slate-500">Freq:</span>
                                <span class="text-brand-400">${match.data.freq || 'N/A'}</span>
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-brand-500/20">
                            <span class="text-xs text-slate-500">Click to view full specs ‚Üí</span>
                        </div>
                    `;
                    resultsContainer.appendChild(card);
                });
            }
            
            // Show modal
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        function closeReverseModal() {
            document.getElementById('reverseSearchModal').classList.add('hidden');
            document.body.style.overflow = '';
        }
        
        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeReverseModal();
        });
        
        // Helper function for FCC ID reverse search from button
        function reverseSearchFcc(element) {
            const fccText = element.textContent || element.innerText;
            const fccId = fccText.replace('FCC ID:', '').replace('FCC:', '').trim();
            if (fccId && fccId !== 'N/A') {
                // Check if we have extended data in FCC_CROSS_REFERENCE
                if (FCC_CROSS_REFERENCE[fccId]) {
                    showFccCrossReference(fccId);
                } else {
                    reverseSearch('fcc', fccId);
                }
            }
        }
        
        // Show detailed FCC cross-reference data in modal
        function showFccCrossReference(fccId) {
            const fccData = FCC_CROSS_REFERENCE[fccId];
            if (!fccData) {
                reverseSearch('fcc', fccId);
                return;
            }
            
            const modal = document.getElementById('reverseSearchModal');
            const title = document.getElementById('reverseModalTitle');
            const subtitle = document.getElementById('reverseModalSubtitle');
            const resultsContainer = document.getElementById('reverseSearchResults');
            
            title.textContent = `üì° FCC ID: ${fccId}`;
            subtitle.textContent = `${fccData.frequency} | ${fccData.modulation} | ${fccData.chip}`;
            
            resultsContainer.innerHTML = '';
            
            // Add FCC details header
            const header = document.createElement('div');
            header.className = 'col-span-full bg-gradient-to-r from-brand-500/20 to-blue-500/20 rounded-xl p-4 border border-brand-500/30 mb-4';
            header.innerHTML = `
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                    <div><span class="text-slate-500">Frequency:</span> <span class="text-white font-mono">${fccData.frequency}</span></div>
                    <div><span class="text-slate-500">Modulation:</span> <span class="text-white font-mono">${fccData.modulation}</span></div>
                    <div><span class="text-slate-500">Chip:</span> <span class="text-brand-400">${fccData.chip}</span></div>
                    <div><span class="text-slate-500">Vehicles:</span> <span class="text-green-400">${fccData.vehicles.length}</span></div>
                </div>
                <div class="mt-3 pt-3 border-t border-brand-500/30">
                    <span class="text-slate-500 text-xs">Part Numbers:</span>
                    <div class="flex flex-wrap gap-2 mt-1">
                        ${fccData.partNumbers.map(pn => `<span class="px-2 py-0.5 bg-navy-800 text-slate-300 rounded text-xs font-mono">${pn}</span>`).join('')}
                    </div>
                </div>
            `;
            resultsContainer.appendChild(header);
            
            // Add vehicle cards
            fccData.vehicles.forEach(v => {
                const card = document.createElement('div');
                card.className = 'bg-navy-950/60 rounded-xl p-4 border border-brand-500/20 hover:border-brand-400 transition-all cursor-pointer';
                card.onclick = () => {
                    closeReverseModal();
                    document.getElementById('yearSelect').value = '2020';
                    document.getElementById('makeSelect').value = v.make.toUpperCase();
                    document.getElementById('makeSelect').disabled = false;
                    switchTab('browse');
                    displayProductsForMake(v.make.toUpperCase());
                };
                card.innerHTML = `
                    <div class="flex items-start justify-between mb-2">
                        <h3 class="text-white font-bold text-lg">${v.make}</h3>
                        <span class="px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded-full">${v.years}</span>
                    </div>
                    <div class="text-slate-300 font-semibold">${v.model}</div>
                    <div class="mt-2 pt-2 border-t border-brand-500/20 text-xs text-slate-500">
                        Click to view full specifications ‚Üí
                    </div>
                `;
                resultsContainer.appendChild(card);
            });
            
            // Also search LOCKSMITH_DB for additional matches
            for (const [make, data] of Object.entries(LOCKSMITH_DB)) {
                if (make === 'DEFAULT') continue;
                let alreadyShown = fccData.vehicles.some(v => v.make.toUpperCase() === make);
                if (alreadyShown) continue;
                
                let matched = false;
                if (data.fccId && data.fccId.toUpperCase().includes(fccId.toUpperCase())) {
                    matched = true;
                }
                if (data.keyBlanks) {
                    data.keyBlanks.forEach(kb => {
                        if (kb.fcc && kb.fcc.toUpperCase().includes(fccId.toUpperCase())) {
                            matched = true;
                        }
                    });
                }
                
                if (matched) {
                    const card = document.createElement('div');
                    card.className = 'bg-navy-950/60 rounded-xl p-4 border border-blue-500/20 hover:border-blue-400 transition-all cursor-pointer';
                    card.onclick = () => {
                        closeReverseModal();
                        document.getElementById('yearSelect').value = '2020';
                        document.getElementById('makeSelect').value = make;
                        document.getElementById('makeSelect').disabled = false;
                        switchTab('browse');
                        displayProductsForMake(make);
                    };
                    card.innerHTML = `
                        <div class="flex items-start justify-between mb-2">
                            <h3 class="text-white font-bold text-lg">${make}</h3>
                            <span class="px-2 py-0.5 bg-blue-500/20 text-blue-400 text-xs rounded-full">DB Match</span>
                        </div>
                        <div class="text-slate-400 text-sm">${data.keyType || 'Key System'}</div>
                        <div class="mt-2 pt-2 border-t border-brand-500/20 text-xs text-slate-500">
                            Click to view full specifications ‚Üí
                        </div>
                    `;
                    resultsContainer.appendChild(card);
                }
            }
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        // Helper function for key blank reverse search
        function reverseSearchBlank(blank) {
            if (blank && blank !== 'N/A') {
                reverseSearch('keyblank', blank);
            }
        }
        
        // Helper function for chip reverse search
        function reverseSearchChip(chip) {
            if (chip && chip !== 'N/A' && chip !== 'Unknown') {
                reverseSearch('chip', chip);
            }
        }
    </script>
</body>

</html>
