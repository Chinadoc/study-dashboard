(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{2888:function(e,t,a){Promise.resolve().then(a.bind(a,9471))},9471:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var r=a(7437),s=a(2265),n=a(9376);let l=e=>{let{title:t,stepNumber:a,isActive:s,isDisabled:n,children:l}=e;return(0,r.jsxs)("div",{className:"\n                p-6 rounded-2xl border transition-all duration-300 backdrop-blur-md\n                ".concat(s?"border-purple-500/60 shadow-[0_0_30px_rgba(139,92,246,0.2)] bg-purple-500/5":"border-white/10 bg-white/5","\n                ").concat(n?"opacity-50 pointer-events-none":"opacity-100","\n            "),children:[(0,r.jsxs)("div",{className:"text-[10px] font-bold uppercase tracking-widest text-purple-400 mb-4",children:["Step ",a,": ",t]}),(0,r.jsx)("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:l})]})},o=e=>{let{label:t,isSelected:a,onClick:s}=e;return(0,r.jsx)("div",{onClick:s,className:"\n                px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 border\n                ".concat(a?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium border-transparent":"bg-transparent text-gray-300 border-transparent hover:bg-purple-500/10 hover:border-white/10","\n            "),children:t})},c="https://aski.eurokeys.app";function i(){let e=(0,n.useRouter)(),[t,a]=(0,s.useState)([]),[i,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[p,x]=(0,s.useState)(null),[h,f]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[v,g]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async function(){g(!0);try{let e=await fetch("".concat(c,"/api/master?fields=make&limit=2000")),t=await e.json(),r=Array.from(new Set(t.results.map(e=>e.make))).filter(e=>e).sort();a(r)}catch(e){console.error("Failed to fetch makes:",e)}finally{g(!1)}})()},[]),(0,s.useEffect)(()=>{if(!p){d([]);return}(async function(){w(!0);try{let e=await fetch("".concat(c,"/api/master?make=").concat(encodeURIComponent(p),"&fields=model&limit=1000")),t=await e.json(),a=Array.from(new Set(t.results.map(e=>e.model))).filter(e=>e).sort();d(a)}catch(e){console.error("Failed to fetch models:",e)}finally{w(!1)}})()},[p]),(0,s.useEffect)(()=>{if(!h||!p){m([]);return}(async function(){k(!0);try{let e=await fetch("".concat(c,"/api/master?make=").concat(encodeURIComponent(p),"&model=").concat(encodeURIComponent(h),"&fields=year_start,year_end&limit=100")),t=await e.json(),a=new Set;t.results.forEach(e=>{let t=e.year_start||2015,r=e.year_end||e.year_start||2024;for(let e=t;e<=r;e++)a.add(e)});let r=Array.from(a).sort((e,t)=>t-e);m(r)}catch(e){console.error("Failed to fetch years:",e)}finally{k(!1)}})()},[h,p]),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-indigo-500 bg-clip-text text-transparent mb-2",children:"EuroKeys Search"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Instant access to vehicles, FCC IDs, and procedures"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,r.jsx)(l,{title:"Make",stepNumber:1,isActive:!p,isDisabled:!1,children:v?(0,r.jsx)("div",{className:"p-4 text-center text-purple-400 animate-pulse",children:"Loading makes..."}):t.map(e=>(0,r.jsx)(o,{label:e,isSelected:p===e,onClick:()=>{x(e),f(null),y(null)}},e))}),(0,r.jsx)(l,{title:"Model",stepNumber:2,isActive:!!p&&!h,isDisabled:!p,children:p?j?(0,r.jsx)("div",{className:"p-4 text-center text-purple-400 animate-pulse",children:"Loading models..."}):i.map(e=>(0,r.jsx)(o,{label:e,isSelected:h===e,onClick:()=>{f(e),y(null)}},e)):(0,r.jsx)("div",{className:"p-8 text-center text-gray-500 italic text-sm",children:"Select a make first"})}),(0,r.jsx)(l,{title:"Year",stepNumber:3,isActive:!!h&&!b,isDisabled:!h,children:h?N?(0,r.jsx)("div",{className:"p-4 text-center text-purple-400 animate-pulse",children:"Loading years..."}):u.map(e=>(0,r.jsx)(o,{label:e,isSelected:b===e,onClick:()=>y(e)},e)):(0,r.jsx)("div",{className:"p-8 text-center text-gray-500 italic text-sm",children:"Select a model first"})})]}),(0,r.jsx)("div",{className:"transition-all duration-500 overflow-hidden ".concat(b?"max-h-24 opacity-100":"max-h-0 opacity-0"),children:(0,r.jsxs)("button",{onClick:()=>{p&&h&&b&&e.push("/vehicle/".concat(encodeURIComponent(p),"/").concat(encodeURIComponent(h),"/").concat(b))},className:"w-full max-w-md mx-auto block px-8 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-400 hover:to-teal-500 text-white font-bold rounded-2xl shadow-lg shadow-emerald-500/20 transition-all hover:-translate-y-1 active:scale-95 text-center",children:["View ",b," ",p," ",h," →"]})}),(0,r.jsx)("div",{className:"mt-12 text-center",children:(0,r.jsx)("a",{href:"/",className:"text-gray-500 hover:text-purple-400 transition-colors text-sm",children:"← Back to Dashboard"})})]})}},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2888)}),_N_E=e.O()}]);